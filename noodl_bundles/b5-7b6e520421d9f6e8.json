[{"name":"/Dashboard","nodes":[{"id":"8a004c9b-9a4c-a472-9098-39ef05776512","type":"Page","parameters":{"styleCss":"background-color: #F5F5F5;\r\nheight: 760px;"},"ports":[],"children":[{"id":"32e30e76-e7c6-1c0f-cea4-7224631fcbf4","type":"/Visual Comps/Top Bar","parameters":{},"ports":[],"children":[]},{"id":"630f5b77-dafa-ccc3-4f01-6b83a6537f5a","type":"/Visual Comps/Navigation Menu","parameters":{},"ports":[],"children":[]},{"id":"ee410bd7-e311-7e00-cc77-4a3b4ea64186","type":"Group","parameters":{"clip":false,"sizeMode":"explicit","marginBottom":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"backgroundColor":"#F5F5F5"},"ports":[],"children":[{"id":"d232396b-a176-e7e5-7259-fda796c10017","type":"Group","parameters":{"sizeMode":"explicit","marginLeft":{"value":15,"unit":"px"},"marginRight":{"value":20,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":false},"maxHeight":{"value":150,"unit":"px"},"minHeight":{"value":75,"unit":"px"},"height":{"value":140,"unit":"px"},"justifyContent":"center","alignItems":"center"},"ports":[],"children":[{"id":"7b33abf7-551d-0466-adbe-612c5b56f12f","type":"Text","parameters":{"textStyle":"Page Header","fontSize":{"value":30,"unit":"px"},"lineHeight":{"value":30,"unit":"px"},"sizeMode":"contentSize","text":"Dashboard","marginRight":{"value":10,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"marginTop":{"value":0,"unit":"px"}},"ports":[],"children":[]},{"id":"706bb82e-0884-520f-aefb-f6dbda30cd34","type":"Group","parameters":{"sizeMode":"contentSize","flexDirection":"row","marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"height":{"value":40,"unit":"px"}},"ports":[],"children":[{"id":"86d3ee12-9d5d-4df5-1fe9-d6fb8c8fa411","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"marginRight":{"value":10,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#C9C9C9","borderRadius":{"value":8,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"flexDirection":"row","width":{"value":150,"unit":"px"}},"ports":[],"children":[{"id":"25bfb714-f095-36cc-c06d-63184ea1e525","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"marginRight":{"value":5,"unit":"px"},"textStyle":"Standard","placeholder":"","fontSize":{"value":14,"unit":"px"},"color":"#616161","iconPlacement":"right","iconIconSource":{"class":"material-icons","code":"manage_search","codeAsClass":false},"iconColor":"#7A7A7A","borderWidth":{"value":0,"unit":"px"},"sizeMode":"explicit","backgroundColor":"#FFFFFF00","borderColor":"#C9C9C900","borderRadius":{"value":8,"unit":"px"},"paddingRight":{"value":5,"unit":"px"},"paddingLeft":{"value":5,"unit":"px"},"marginLeft":{"value":5,"unit":"px"},"height":{"value":30,"unit":"px"},"alignY":"center"},"ports":[],"children":[]},{"id":"2fc5c18a-50f1-4989-e52d-7c4371878460","type":"Group","parameters":{"sizeMode":"contentSize","alignY":"center","styleCss":"cursor: pointer;"},"ports":[],"children":[{"id":"fbe367d9-892b-b7fb-5980-174640bfa8ff","type":"net.noodl.visual.icon","parameters":{"iconSourceType":"icon","iconIconSource":{"class":"material-icons","code":"manage_search","codeAsClass":false},"iconColor":"#616161","iconSize":{"value":24,"unit":"px"},"marginRight":{"value":5,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"2af73609-8bf2-71f4-6e9a-15838f70ff6b","type":"net.noodl.controls.options","parameters":{"labeltextStyle":"Standard","labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","label":"Period","items":"[\n    {\"Label\":\"1 Hour\", \"Value\":'{\"label\": \"1 Hour\", \"bucket\": \"30\", \"start\": \"-1h\"}'},\n    {\"Label\":\"4 Hours\", \"Value\":'{\"label\": \"4 Hours\", \"bucket\": \"300\", \"start\": \"-4h\"}'},\n    {\"Label\":\"1 Day\", \"Value\":'{\"label\": \"1 Day\", \"bucket\": \"300\", \"start\": \"-24h\"}'},\n    {\"Label\":\"2 Days\", \"Value\":'{\"label\": \"2 Days\", \"bucket\": \"3600\", \"start\": \"-48h\"}'},\n    {\"Label\":\"7 Days\", \"Value\":'{\"label\": \"7 Days\", \"bucket\": \"3600\", \"start\": \"-128h\"}'},\n    {\"Label\":\"30 Days\", \"Value\":'{\"label\": \"30 Days\", \"bucket\": \"3600\", \"start\": \"-720h\"}'},\n    {\"Label\":\"90 Days\", \"Value\":'{\"label\": \"90 Days\", \"bucket\": \"3600\", \"start\": \"-2160h\"}'}\n]\n\n","value":"{\"label\": \"30 Days\", \"bucket\": \"3600\", \"start\": \"-720h\"}","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":14,"unit":"px"},"color":"#616161","paddingLeft":{"value":8,"unit":"px"},"paddingRight":{"value":8,"unit":"px"},"borderColor":"#C9C9C9","iconColor":"#616161","placeholder":"30 Days","useLabel":false,"borderRadius":{"value":8,"unit":"px"},"cssClassName":"dropdown-content","height":{"value":40,"unit":"px"},"sizeMode":"explicit","marginRight":{"value":10,"unit":"px"},"width":{"value":100,"unit":"px"}},"stateParameters":{"focused":{"labelcolor":"#616161","borderColor":"#C9C9C9"}},"ports":[],"children":[]},{"id":"118e76eb-3dec-4ffe-d5cc-2a15ce654acd","type":"net.noodl.controls.button","parameters":{"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"sizeMode":"explicit","width":{"value":40,"unit":"px"},"backgroundColor":"#253F8E","label":"","useLabel":false,"useIcon":true,"iconColor":"#FFFFFF","iconIconSource":{"class":"material-icons","code":"filter_list","codeAsClass":false},"iconSize":{"value":24,"unit":"px"},"height":{"value":40,"unit":"px"},"iconSpacing":{"value":0,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"minWidth":{"value":40,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"f4881b57-3b1e-417e-03de-7345d928244e","type":"Group","parameters":{"height":{"value":301,"unit":"px"},"backgroundColor":"#253F8E","marginBottom":{"value":0,"unit":"px"},"borderTopStyle":"solid","borderTopWidth":{"value":1,"unit":"px"},"borderTopColor":"#C9C9C9","transformY":{"value":-1,"unit":"px"},"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#C9C9C9","flexDirection":"row","justifyContent":"space-evenly","alignItems":"center","sizeMode":"contentWidth","paddingTop":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"minWidth":{"value":100,"unit":"%"},"marginLeft":{"value":0,"unit":"px"}},"ports":[],"children":[{"id":"a696fbe6-3187-529c-a151-0194920ace79","type":"Mapbox Map","parameters":{"mapboxStyle":"mapbox://styles/mapbox/streets-v12","c_GeocoderEnable":false,"c_GeolocateControlEnable":false,"c_NavigationControlEnable":true,"interactive":true,"zoom":2.5,"c_FullscreenControlEnable":true,"antialias":true,"c_GeolocateControlShowUserLocation":false,"c_GeolocateControlTrackUserLocation":false,"c_GeolocateControlShowAccuracyCircle":false,"c_ScaleControlEnable":false,"c_MapboxDrawEnable":false,"mounted":true,"c_MapboxDrawControlPoints":false,"styleCss":".leaflet-overlay-pane path,\r\n.leaflet-marker-icon {\r\n  cursor: pointer;\r\n}"},"ports":[],"children":[{"id":"2f079595-8873-4975-1841-94aba644cd2c","type":"Mapbox Marker","parameters":{"tooltipContent":"<p><bold>testtesttest</bold></p>","longitude":38,"latitude":77,"color":"#000000A5","styleCss":"cursor: pointer;"},"ports":[],"children":[]}]}]}]}]},{"id":"74295a32-494c-d509-6a95-6e5254f66d08","type":"Javascript2","parameters":{"code":"Script.Signals.Run = function () {\r\n    sessionStorage.setItem('path', \"/\" + window.location.pathname.split(\"/\").pop())\r\n};"},"ports":[{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5}],"children":[]},{"id":"bb252caa-f629-aed6-4627-385ada1ed2c8","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]},{"id":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","type":"States","parameters":{"states":"Mobile Open,Mobile Closed,Desktop Open,Desktop Closed","values":"Margin Left,Align Items,layout,header height,Align,pad mobile","value-Mobile Open-Margin Left":0,"value-Mobile Closed-Margin Left":0,"value-Desktop Open-Margin Left":250,"value-Desktop Closed-Margin Left":0,"type-Filters Class":"string","value-Mobile Closed-Filters Class":"network-filters-mobile","value-Desktop Open-Filters Class":"network-filters-desktop","value-Desktop Closed-Filters Class":"network-filters-desktop","value-Mobile Open-Filters Class":"network-filters-mobile","type-Align Items":"string","value-Mobile Open-Align Items":"left","value-Mobile Closed-Align Items":"left","value-Desktop Open-Align Items":"right","value-Desktop Closed-Align Items":"right","type-layout":"string","value-Mobile Closed-layout":"column","value-Desktop Open-layout":"row","value-Desktop Closed-layout":"row","value-Mobile Open-layout":"column","value-Mobile Open-header height":100,"value-Mobile Closed-header height":100,"value-Desktop Open-header height":60,"value-Desktop Closed-header height":60,"type-Align":"string","value-Mobile Open-Align":"center","value-Mobile Closed-Align":"center","value-Desktop Open-Align":"right","value-Desktop Closed-Align":"right","value-Mobile Open-pad mobile":5,"value-Mobile Closed-pad mobile":5},"ports":[],"children":[]},{"id":"f74d2724-3070-ce2c-9f6f-58f3a3f88668","type":"CSS Definition","parameters":{"style":".dropdown-content {\r\n  display: block;\r\n  width: 100%;\r\n  position: absolute;\r\n  background-color: #F5F5F5;\r\n  padding: 10px 10px 10px 10px;\r\n  z-index: 100;\r\n  font-size: 14px;\r\n  line-height: 20px;\r\n  color: #616161;\r\n}\r\n\r\n.network-filters-mobile {\r\n  float: left;\r\n}\r\n\r\n.network-filters-desktop {\r\n  float: right;\r\n}\r\n"},"ports":[],"children":[]},{"id":"996d03f5-8e25-8592-04e1-56800c0b9889","type":"REST2","parameters":{"method":"POST","requestScript":"Request.headers['authorization'] = 'Basic dmlzaW9uX3VzZXI6aGpheTZod24hbGFvNTU=';\n\nRequest.content = {\n    session:localStorage.getItem('session')\n};\n\n","responseScript":"Outputs.StationVals = Response.content.data.values;\r\nOutputs.Authorized = Response.content.data.authorized","resource":"https://api.orbitaldata.net/vision_mysql_station_cfg"},"ports":[],"children":[]},{"id":"7828f1e8-921e-c2b6-14b2-46b528ad5846","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    SqlData: \"object\"\r\n}\r\n\r\nScript.Inputs = {\r\n    Output: \"array\",\r\n    LatCenter: \"number\",\r\n    LongCenter: \"number\"\r\n}\r\n\r\nScript.Signals.Run = function () {\r\nfunction calculateAverage(array) {\r\n    var total = 0;\r\n    var count = 0;\r\n    array.forEach(function(item, index) {\r\n        total += item;\r\n        count++;\r\n    });\r\n    return total / count;\r\n}\r\n\r\n\r\n\r\n    var geoArray = []\r\n    var sqlData = {...Script.Inputs.SqlData}\r\n    for (const site in sqlData){\r\n        geoArray.push({\"lat\": sqlData[site][\"latitude\"], \"long\": sqlData[site][\"longitude\"]})\r\n    }\r\n\r\n    // Calculate average radius\r\n    var lats = []\r\n    var longs = []\r\n    var maxlat = -90;\r\n    var minlat = 90;\r\n    var maxlong = -180;\r\n    var minlong = 180;\r\n    for (const site in sqlData){\r\n        lats.push(sqlData[site][\"latitude\"])\r\n        longs.push(sqlData[site][\"longitude\"])\r\n\r\n        if (sqlData[site][\"latitude\"] > maxlat){maxlat = sqlData[site][\"latitude\"]};\r\n        if (sqlData[site][\"latitude\"] < minlat){minlat = sqlData[site][\"latitude\"]};\r\n        if (sqlData[site][\"longitude\"] > maxlong){maxlong = sqlData[site][\"longitude\"]}\r\n        if (sqlData[site][\"longitude\"] < minlong){minlong = sqlData[site][\"longitude\"]}\r\n    }\r\n    // 69 miles per degree lat, 55 miles per deree long\r\n    var avgLat = calculateAverage(lats)\r\n    var avgLong = calculateAverage(longs)\r\n    var latRange = (maxlat - minlat) * 69\r\n    var longRange = (maxlong - minlong) * 55\r\n    console.log(latRange)\r\n    console.log(longRange)\r\n    Script.Outputs.LatCenter = avgLat;\r\n    Script.Outputs.LongCenter = avgLong;\r\n    Script.Outputs.Output = geoArray;\r\n};\r\n"},"ports":[{"name":"Output","plug":"input","type":{"name":"array"},"group":"Inputs","index":5},{"name":"LatCenter","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"LongCenter","plug":"input","type":{"name":"number"},"group":"Inputs","index":7},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":8},{"name":"SqlData","displayName":"SqlData","plug":"input","type":"*","group":"Inputs","index":9},{"name":"LatCenter","displayName":"LatCenter","plug":"output","type":"*","group":"Outputs","index":10},{"name":"LongCenter","displayName":"LongCenter","plug":"output","type":"*","group":"Outputs","index":11},{"name":"Output","displayName":"Output","plug":"output","type":"*","group":"Outputs","index":12}],"children":[]},{"id":"3d6b8607-64e5-5525-f25e-1a90898c33a3","type":"/Network Filter Modal","parameters":{},"ports":[],"children":[]},{"id":"d3f66784-1880-8502-7612-aeba8a35244e","type":"Text","parameters":{"transformX":{"value":300,"unit":"px"},"transformY":{"value":-250,"unit":"px"},"zIndex":105},"ports":[],"children":[]},{"id":"b3356f3a-cb07-1823-1e98-95bebee72554","type":"For Each","parameters":{"template":"/Map Marker"},"ports":[],"children":[]},{"id":"52da0497-f11d-1a89-5be4-55885aedf93b","type":"CSS Definition","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8a004c9b-9a4c-a472-9098-39ef05776512","sourcePort":"didMount","targetId":"74295a32-494c-d509-6a95-6e5254f66d08","targetPort":"Run"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"Margin Left","targetId":"ee410bd7-e311-7e00-cc77-4a3b4ea64186","targetPort":"marginLeft"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"layout","targetId":"d232396b-a176-e7e5-7259-fda796c10017","targetPort":"flexDirection"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"header height","targetId":"d232396b-a176-e7e5-7259-fda796c10017","targetPort":"height"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"Align","targetId":"706bb82e-0884-520f-aefb-f6dbda30cd34","targetPort":"alignX"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"pad mobile","targetId":"7b33abf7-551d-0466-adbe-612c5b56f12f","targetPort":"marginBottom"},{"sourceId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","sourcePort":"pad mobile","targetId":"706bb82e-0884-520f-aefb-f6dbda30cd34","targetPort":"marginTop"},{"sourceId":"bb252caa-f629-aed6-4627-385ada1ed2c8","sourcePort":"Menu State","targetId":"c1f89eb2-452e-6cf6-f07b-1343fdcf7b6d","targetPort":"currentState"},{"sourceId":"8a004c9b-9a4c-a472-9098-39ef05776512","sourcePort":"didMount","targetId":"996d03f5-8e25-8592-04e1-56800c0b9889","targetPort":"fetch"},{"sourceId":"996d03f5-8e25-8592-04e1-56800c0b9889","sourcePort":"success","targetId":"7828f1e8-921e-c2b6-14b2-46b528ad5846","targetPort":"Run"},{"sourceId":"996d03f5-8e25-8592-04e1-56800c0b9889","sourcePort":"out-StationVals","targetId":"7828f1e8-921e-c2b6-14b2-46b528ad5846","targetPort":"SqlData"},{"sourceId":"7828f1e8-921e-c2b6-14b2-46b528ad5846","sourcePort":"Output","targetId":"b3356f3a-cb07-1823-1e98-95bebee72554","targetPort":"items"},{"sourceId":"7828f1e8-921e-c2b6-14b2-46b528ad5846","sourcePort":"LatCenter","targetId":"a696fbe6-3187-529c-a151-0194920ace79","targetPort":"latitute"},{"sourceId":"7828f1e8-921e-c2b6-14b2-46b528ad5846","sourcePort":"LongCenter","targetId":"a696fbe6-3187-529c-a151-0194920ace79","targetPort":"longitude"}],"ports":[],"roots":["8a004c9b-9a4c-a472-9098-39ef05776512","d3f66784-1880-8502-7612-aeba8a35244e","b3356f3a-cb07-1823-1e98-95bebee72554"]},{"name":"/Map Marker","nodes":[{"id":"260f3c52-f6c5-63b1-779f-d5caf473d6f9","type":"Group","parameters":{"sizeMode":"contentSize","styleCss":"cursor: pointer;"},"ports":[],"children":[{"id":"b1252c7a-8735-fbe1-360f-f38d42e0baea","type":"Mapbox Marker","parameters":{"color":"#253F8E","draggable":false,"rotationAlignment":"auto","styleCss":"cursor: pointer;"},"ports":[],"children":[]}]},{"id":"f9deeb97-d545-d9da-87c4-0025d408c972","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"97510680-edf7-1864-d8cd-ac17f3495000","type":"simple-tooltips.show-tooltip","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"f9deeb97-d545-d9da-87c4-0025d408c972","sourcePort":"long","targetId":"b1252c7a-8735-fbe1-360f-f38d42e0baea","targetPort":"longitude"},{"sourceId":"f9deeb97-d545-d9da-87c4-0025d408c972","sourcePort":"lat","targetId":"b1252c7a-8735-fbe1-360f-f38d42e0baea","targetPort":"latitude"},{"sourceId":"f9deeb97-d545-d9da-87c4-0025d408c972","sourcePort":"tooltip","targetId":"b1252c7a-8735-fbe1-360f-f38d42e0baea","targetPort":"tooltipContent"},{"sourceId":"260f3c52-f6c5-63b1-779f-d5caf473d6f9","sourcePort":"hoverStart","targetId":"97510680-edf7-1864-d8cd-ac17f3495000","targetPort":"show"}],"ports":[{"name":"items","type":"*","plug":"input","index":1},{"name":"lat","type":"number","default":0,"group":"Coordinates","plug":"input","index":2},{"name":"long","type":"number","default":0,"group":"Coordinates","plug":"input","index":3},{"name":"tooltip","type":{"name":"string","codeeditor":"html"},"group":"Content","plug":"input","index":4}],"roots":["260f3c52-f6c5-63b1-779f-d5caf473d6f9"]}]
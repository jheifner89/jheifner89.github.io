[{"name":"/Reporting","nodes":[{"id":"0501d6c8-6567-2bb2-46fa-b409f94e30b6","type":"Page","parameters":{"styleCss":"background-color: #F5F5F5;\r\nheight: 760px;"},"ports":[],"children":[{"id":"46822434-02f0-ff82-885d-ab7614dc1132","type":"/Visual Comps/Top Bar","parameters":{},"ports":[],"children":[]},{"id":"e7fed7ce-70bf-13b0-a5be-ccb02383c5b3","type":"/Visual Comps/Navigation Menu","parameters":{},"ports":[],"children":[]},{"id":"2312f718-c604-3fc8-3995-cf519cf132b0","type":"Group","parameters":{"clip":false,"sizeMode":"explicit","marginBottom":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"backgroundColor":"#F5F5F5"},"ports":[],"children":[{"id":"0c5e7050-0049-eee8-ac1a-6c63cc295c34","type":"Group","parameters":{"sizeMode":"contentHeight","marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"width":{"value":100,"unit":"%","isFixed":false},"flexDirection":"row","height":{"value":100,"unit":"px","isFixed":false},"flexWrap":"nowrap","paddingLeft":{"value":15,"unit":"px"},"minHeight":{"value":60,"unit":"px"},"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#C9C9C9","alignItems":"center"},"ports":[],"children":[{"id":"8039deaf-9b22-7ffe-e1bd-d8391c7d5eb6","type":"Text","parameters":{"textStyle":"Page Header","fontSize":{"value":20,"unit":"px"},"sizeMode":"contentSize","text":"Reporting","marginRight":{"value":0,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"alignX":"left","alignY":"center"},"ports":[],"children":[]},{"id":"7d128128-a983-a41b-87db-20e770e7d77d","type":"Group","parameters":{"borderTopWidth":{"value":1,"unit":"px"},"borderTopColor":"#C9C9C9","mounted":true,"justifyContent":"center","alignX":"right","sizeMode":"contentSize","marginRight":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"0d2607c8-4db2-5918-327c-42a7d743d613","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":30,"unit":"px"},"height":{"value":30,"unit":"px"},"backgroundColor":"#253F8E","borderRadius":{"value":8,"unit":"px"},"alignItems":"center","justifyContent":"center","styleCss":"cursor: pointer;","marginTop":{"value":5,"unit":"px"},"marginBottom":{"value":5,"unit":"px"}},"ports":[],"children":[{"id":"b5907b5e-c2d9-0d1d-bae8-94a4f0ec5db0","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"add","codeAsClass":false},"iconSize":{"value":20,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"}},"ports":[],"children":[]}]}]}]},{"id":"ba812709-2076-19e6-f87c-d3dd70989b3d","type":"Group","parameters":{},"ports":[],"children":[{"id":"0b97c18a-b311-6f7b-fa95-b2bcf437c5ef","type":"/Tables/Report Queue Table","parameters":{},"ports":[],"children":[]}]}]}]},{"id":"23d5bad3-aaae-5642-3e12-7913e400dd04","type":"Javascript2","parameters":{"code":"Script.Signals.Run = function () {\r\n    sessionStorage.setItem('path', \"/\" + window.location.pathname.split(\"/\").pop())\r\n};"},"ports":[{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5}],"children":[]},{"id":"7e89f638-81cc-ac4b-993f-5aa1cca83cec","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]},{"id":"cbe00c0a-1697-8f94-300e-3acb50df7194","type":"States","parameters":{"states":"Mobile Open,Mobile Closed,Desktop Open,Desktop Closed","values":"Margin Left,Align Items,Align,pad mobile","value-Mobile Open-Margin Left":0,"value-Mobile Closed-Margin Left":0,"value-Desktop Open-Margin Left":250,"value-Desktop Closed-Margin Left":0,"type-Filters Class":"string","value-Mobile Closed-Filters Class":"network-filters-mobile","value-Desktop Open-Filters Class":"network-filters-desktop","value-Desktop Closed-Filters Class":"network-filters-desktop","value-Mobile Open-Filters Class":"network-filters-mobile","type-Align Items":"string","value-Mobile Open-Align Items":"left","value-Mobile Closed-Align Items":"left","value-Desktop Open-Align Items":"right","value-Desktop Closed-Align Items":"right","type-layout":"string","value-Mobile Closed-layout":"column","value-Desktop Open-layout":"row","value-Desktop Closed-layout":"row","value-Mobile Open-layout":"column","value-Mobile Open-header height":100,"value-Mobile Closed-header height":100,"value-Desktop Open-header height":60,"value-Desktop Closed-header height":60,"type-Align":"string","value-Mobile Open-Align":"center","value-Mobile Closed-Align":"center","value-Desktop Open-Align":"right","value-Desktop Closed-Align":"right","value-Mobile Open-pad mobile":5,"value-Mobile Closed-pad mobile":5},"ports":[],"children":[]},{"id":"97f7b6b9-f551-a8ca-9e23-358dd0e2c08f","type":"CSS Definition","parameters":{"style":".mapboxgl-marker {\r\n    cursor: pointer\r\n}"},"ports":[],"children":[]},{"id":"ecec0eda-16c2-96ec-bd95-eb93e974b7c1","type":"/Modals/Create Report Queue Modal","parameters":{"Component to show":"/Modals/Create Report Queue Modal/Modal Component"},"ports":[],"children":[]},{"id":"2c34ad1b-7ae9-f373-00b0-0ee73a3c05e1","type":"REST2","parameters":{"method":"POST","requestScript":"Request.headers['authorization'] = 'Basic dmlzaW9uX3VzZXI6aGpheTZod24hbGFvNTU=';\n\nRequest.content = {\n    session:localStorage.getItem('session')\n};\n\n","responseScript":"Outputs.RawData = Response.content.data.values;\r\nOutputs.Authorized = Response.content.data.authorized","resource":"https://api.orbitaldata.net/vision_get_report_queue"},"ports":[],"children":[]},{"id":"aaced4c3-ee3c-9225-cf08-bb744d3ada4e","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    RawData: \"object\",\r\n    Run: \"signal\"\r\n}\r\n\r\nScript.Outputs = {\r\n    ArrayData: \"array\"\r\n}\r\n\r\nScript.Signals.Run = function () {\r\n    var tempdata = []\r\n    count = 1\r\n    var raw = Script.Inputs.RawData\r\n    for (const i in raw){\r\n        raw[i]['id'] = count\r\n        count = count + 1\r\n        tempdata.push(raw[i])\r\n    }\r\n    console.log(tempdata)\r\n    Script.Outputs.ArrayData = tempdata\r\n}"},"ports":[{"name":"RawData","plug":"input","type":{"name":"object"},"group":"Inputs","index":5},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"ArrayData","type":{"name":"array"},"plug":"output","group":"Outputs","index":7}],"children":[]},{"id":"6ebfa88d-80c0-eed7-db93-dd71367d7f46","type":"Event Receiver","parameters":{"channelName":"reportQueuedSuccess"},"ports":[],"children":[]}],"connections":[{"sourceId":"0501d6c8-6567-2bb2-46fa-b409f94e30b6","sourcePort":"didMount","targetId":"23d5bad3-aaae-5642-3e12-7913e400dd04","targetPort":"Run"},{"sourceId":"cbe00c0a-1697-8f94-300e-3acb50df7194","sourcePort":"Margin Left","targetId":"2312f718-c604-3fc8-3995-cf519cf132b0","targetPort":"marginLeft"},{"sourceId":"7e89f638-81cc-ac4b-993f-5aa1cca83cec","sourcePort":"Menu State","targetId":"cbe00c0a-1697-8f94-300e-3acb50df7194","targetPort":"currentState"},{"sourceId":"0d2607c8-4db2-5918-327c-42a7d743d613","sourcePort":"onClick","targetId":"ecec0eda-16c2-96ec-bd95-eb93e974b7c1","targetPort":"Show popup"},{"sourceId":"0501d6c8-6567-2bb2-46fa-b409f94e30b6","sourcePort":"didMount","targetId":"2c34ad1b-7ae9-f373-00b0-0ee73a3c05e1","targetPort":"fetch"},{"sourceId":"2c34ad1b-7ae9-f373-00b0-0ee73a3c05e1","sourcePort":"success","targetId":"aaced4c3-ee3c-9225-cf08-bb744d3ada4e","targetPort":"Run"},{"sourceId":"2c34ad1b-7ae9-f373-00b0-0ee73a3c05e1","sourcePort":"out-RawData","targetId":"aaced4c3-ee3c-9225-cf08-bb744d3ada4e","targetPort":"RawData"},{"sourceId":"aaced4c3-ee3c-9225-cf08-bb744d3ada4e","sourcePort":"ArrayData","targetId":"0b97c18a-b311-6f7b-fa95-b2bcf437c5ef","targetPort":"data"},{"sourceId":"6ebfa88d-80c0-eed7-db93-dd71367d7f46","sourcePort":"eventReceived","targetId":"2c34ad1b-7ae9-f373-00b0-0ee73a3c05e1","targetPort":"fetch"}],"ports":[],"roots":["0501d6c8-6567-2bb2-46fa-b409f94e30b6"]},{"name":"/Tables/Report Queue Table","nodes":[{"id":"15f8e83b-e6ec-4088-3829-292376c1f9e0","type":"Group","parameters":{"styleCss":"overflow: scroll;","sizeMode":"explicit","height":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"47669547-28c4-ddb9-da4f-e3b5b2149fd7","type":"Group","parameters":{"sizeMode":"contentWidth","height":{"value":50,"unit":"px"},"backgroundColor":"#253F8E","flexDirection":"row","marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"position":"relative","width":{"value":100,"unit":"px","isFixed":false},"paddingLeft":{"value":15,"unit":"px"},"alignItems":"center"},"ports":[],"children":[{"id":"dcdde8cb-c840-8dcd-aa34-a0a254536ef5","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"3819baf5-1128-f3ad-0727-d90b8127c8a2","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#69C0FF","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","text":"Last Run Date","alignY":"center"},"ports":[],"children":[]}]},{"id":"82211271-b716-0518-f578-492beb71ae5a","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"dd27330d-fa3e-680a-33cc-a0fdbbd739d1","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#69C0FF","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","text":"Report Type","alignY":"center"},"ports":[],"children":[]}]},{"id":"02339497-7c8f-889d-7048-ef2649f303e1","type":"Group","parameters":{"sizeMode":"explicit","minWidth":{"value":100,"unit":"px"},"width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"096d364f-790c-ce0d-51ea-3cbe4acb9f74","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#69C0FF","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","text":"Report Target","alignY":"center"},"ports":[],"children":[]}]},{"id":"9f861089-db45-ce74-4681-5de261402abd","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"cf1e2d1a-7111-3e07-00f1-b3b8a46ad98b","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#69C0FF","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","text":"Selected Period","alignY":"center"},"ports":[],"children":[]}]},{"id":"7a235dd4-62b4-9f4a-2dc3-924b789baaf5","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"9490ecdb-3f79-4be4-acb2-d563db513a89","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#69C0FF","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","text":"Next Run Date","alignY":"center"},"ports":[],"children":[]}]},{"id":"08317aca-b4fd-71ae-0dfd-f122e5f6465d","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[]}]},{"id":"dcf0f825-791d-a3a6-7655-eab2f805fadc","type":"Group","parameters":{"sizeMode":"explicit"},"ports":[],"children":[{"id":"e579295b-d4f2-5d6c-9cdc-ff00c3b3adb6","type":"For Each","parameters":{"template":"/Tables/Report Queue Table/Row Repeater"},"ports":[],"children":[]}]}]},{"id":"4f55bac5-9e69-efab-0b2e-6e2f96163fd6","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"3026142e-8d82-eb74-1f58-8bbc3797df35","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Width: \"number\",\r\n \r\n};\r\n\r\nScript.Outputs = {\r\n    ColOne: \"number\",\r\n    ColTwo: \"number\",\r\n    ColThree: \"number\",\r\n    ColFour: \"number\",\r\n    ColFive: \"number\",\r\n    ColSix: \"number\",\r\n    OutputWidth: \"number\"\r\n};\r\n\r\n\r\nfunction onChange(){\r\n    currWidth = Script.Inputs.Width - 100\r\n    if (currWidth * 0.15 > 200){Script.Outputs.ColOne = currWidth * 0.15}else{Script.Outputs.ColOne = 200}\r\n    if (currWidth * 0.15 > 100){Script.Outputs.ColTwo = currWidth * 0.15}else{Script.Outputs.ColTwo = 100}\r\n    if (currWidth * 0.15 > 125){Script.Outputs.ColThree = currWidth * 0.15}else{Script.Outputs.ColThree = 125}\r\n    if (currWidth * 0.35 > 350){Script.Outputs.ColFour = currWidth * 0.35}else{Script.Outputs.ColFour = 350}\r\n    if (currWidth * 0.20 > 200){Script.Outputs.ColFive = currWidth * 0.20}else{Script.Outputs.ColFive = 200}\r\n    Script.Outputs.ColSix = 50\r\n    Script.Outputs.OutputWidth = Script.Inputs.Width\r\n    Script.Outputs.Done();\r\n};\r\n\r\nScript.Setters.Width = onChange;\r\n"},"ports":[{"name":"Width","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"ColOne","type":{"name":"number"},"plug":"output","group":"Outputs","index":6},{"name":"ColTwo","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"ColThree","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"ColFour","type":{"name":"number"},"plug":"output","group":"Outputs","index":9},{"name":"ColFive","type":{"name":"number"},"plug":"output","group":"Outputs","index":10},{"name":"ColSix","type":{"name":"number"},"plug":"output","group":"Outputs","index":11},{"name":"OutputWidth","type":{"name":"number"},"plug":"output","group":"Outputs","index":12},{"name":"Done","displayName":"Done","plug":"output","type":"signal","group":"Outputs","index":13}],"children":[]},{"id":"3c14d821-0919-9155-9e01-f939025933db","type":"Set Variable","parameters":{"name":"reportingTableWidth"},"ports":[],"children":[]},{"id":"20f6dfd4-f0b2-58aa-8d6f-17a14bbd3353","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Device: \"string\",\r\n    Res: \"number\"\r\n}\r\n\r\nScript.Output = {\r\n    Height: \"string\"\r\n}\r\n\r\nfunction onChange() {\r\n    Script.Outputs.Height = Script.Inputs.Res - 120;\r\n};\r\n\r\nScript.Setters.Device = onChange;\r\nScript.Setters.Res = onChange;"},"ports":[{"name":"Device","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"Res","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"Height","displayName":"Height","plug":"output","type":"*","group":"Outputs","index":7}],"children":[]},{"id":"faed38d1-3706-7e3e-c904-bdc97e1ed39a","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]},{"id":"d901be35-46c0-7ada-2b9f-8940a6cff1dc","type":"Screen Resolution","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4f55bac5-9e69-efab-0b2e-6e2f96163fd6","sourcePort":"data","targetId":"e579295b-d4f2-5d6c-9cdc-ff00c3b3adb6","targetPort":"items"},{"sourceId":"15f8e83b-e6ec-4088-3829-292376c1f9e0","sourcePort":"boundingWidth","targetId":"3026142e-8d82-eb74-1f58-8bbc3797df35","targetPort":"Width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColOne","targetId":"dcdde8cb-c840-8dcd-aa34-a0a254536ef5","targetPort":"width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColTwo","targetId":"82211271-b716-0518-f578-492beb71ae5a","targetPort":"width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColThree","targetId":"02339497-7c8f-889d-7048-ef2649f303e1","targetPort":"width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColFour","targetId":"9f861089-db45-ce74-4681-5de261402abd","targetPort":"width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColFive","targetId":"7a235dd4-62b4-9f4a-2dc3-924b789baaf5","targetPort":"width"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"OutputWidth","targetId":"3c14d821-0919-9155-9e01-f939025933db","targetPort":"value"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"Done","targetId":"3c14d821-0919-9155-9e01-f939025933db","targetPort":"do"},{"sourceId":"faed38d1-3706-7e3e-c904-bdc97e1ed39a","sourcePort":"Device Type","targetId":"20f6dfd4-f0b2-58aa-8d6f-17a14bbd3353","targetPort":"Device"},{"sourceId":"d901be35-46c0-7ada-2b9f-8940a6cff1dc","sourcePort":"height","targetId":"20f6dfd4-f0b2-58aa-8d6f-17a14bbd3353","targetPort":"Res"},{"sourceId":"20f6dfd4-f0b2-58aa-8d6f-17a14bbd3353","sourcePort":"Height","targetId":"15f8e83b-e6ec-4088-3829-292376c1f9e0","targetPort":"height"},{"sourceId":"3026142e-8d82-eb74-1f58-8bbc3797df35","sourcePort":"ColSix","targetId":"08317aca-b4fd-71ae-0dfd-f122e5f6465d","targetPort":"width"}],"ports":[{"name":"data","type":"array","group":"Data","plug":"input","index":1},{"name":"id","type":"*","plug":"input","index":2}],"roots":["15f8e83b-e6ec-4088-3829-292376c1f9e0"]},{"name":"/Tables/Report Queue Table/Row Repeater","nodes":[{"id":"b2121e9d-1fc1-7010-fe5c-70695957cfc3","type":"Group","parameters":{"flexDirection":"row","sizeMode":"contentWidth","height":{"value":40,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"alignItems":"center"},"ports":[],"children":[{"id":"ff41b140-7cbc-9fd5-3ae4-f8697cef2ec0","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"c102dac8-f31a-eb64-d118-858da88a01b6","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#616161","alignY":"center"},"ports":[],"children":[]}]},{"id":"15fdf551-e590-bf69-76e5-94fa528c867c","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"5f5c3c56-fd7e-e1bf-fb11-070bdd245d93","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#616161","alignY":"center"},"ports":[],"children":[]}]},{"id":"997a8f48-c283-a901-ff68-7527733f7f0a","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"4ca88202-e6a5-8043-82cd-659726b1fab0","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#616161","alignY":"center"},"ports":[],"children":[]}]},{"id":"9faa534e-ba50-d94f-a1c5-ff27d803181a","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"1c3e5ff8-6f60-c774-80b8-e676b59a0e97","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#616161","alignY":"center"},"ports":[],"children":[]}]},{"id":"e236713d-295d-c47f-21d6-3749ab02b25e","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"}},"ports":[],"children":[{"id":"bd1b4f85-109e-ac19-00bc-84dc903eee2f","type":"Text","parameters":{"fontSize":{"value":16,"unit":"px"},"color":"#616161","alignY":"center"},"ports":[],"children":[]}]},{"id":"d2f13962-5782-5646-2543-d9203c5cf521","type":"Group","parameters":{"sizeMode":"explicit","width":{"value":100,"unit":"px"},"flexDirection":"row"},"ports":[],"children":[{"id":"3464b32f-43bd-fd88-27c5-8699c6970c70","type":"net.noodl.visual.icon","parameters":{"iconSourceType":"icon","iconColor":"#7A7A7A","iconSize":{"value":24,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"download_for_offline","codeAsClass":false},"alignY":"center"},"ports":[],"children":[]},{"id":"d2cbfb21-5d8c-87af-a5a8-0df5d8c0a75d","type":"net.noodl.visual.icon","parameters":{"iconSourceType":"icon","iconColor":"#C44F4F","iconSize":{"value":24,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"delete","codeAsClass":false},"alignY":"center"},"ports":[],"children":[]}]}]},{"id":"af486819-6fae-be97-a40d-e0a244ec40cc","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"5b057ade-939b-d174-8295-8f4cff89d21f","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    UnixTime: \"number\"\r\n}\r\n\r\nScript.Outputs = {\r\n    LastRunTime: \"string\"\r\n}\r\n\r\nfunction onChange() {\r\n    if (Script.Inputs.UnixTime != null){\r\n        Script.Outputs.LastRunTime = new Date(Script.Inputs.UnixTime * 1000).toLocaleString('en-US', { year:'2-digit', month:'numeric', day:'numeric', hour: 'numeric', minute: '2-digit', timeZoneName: 'short' })\r\n    }\r\n    else {\r\n        Script.Outputs.LastRunTime = \"Initial Run Pending...\"\r\n    }\r\n};\r\n\r\nScript.Setters.UnixTime = onChange;"},"ports":[{"name":"UnixTime","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"LastRunTime","type":{"name":"string"},"plug":"output","group":"Outputs","index":6}],"children":[]},{"id":"f0e99238-2dce-d873-91ba-1aada70d74bb","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Recurring: \"number\",\r\n    ExDate: \"number\"\r\n}\r\n\r\nScript.Outputs = {\r\n    OutputStr: \"string\"\r\n}\r\n\r\nfunction onChange() {\r\n    if (Script.Inputs.Recurring == 0){\r\n        Script.Outputs.OutputStr = \"Non-Recurring Report.\"\r\n    }\r\n    else if (Script.Inputs.Recurring == 7){\r\n        Script.Outputs.OutputStr = new Date(Script.Inputs.ExDate * 1000).toLocaleString('en-US', { year:'2-digit', month:'numeric', day:'numeric', hour: 'numeric', minute: '2-digit', timeZoneName: 'short' })\r\n    }\r\n    else{\r\n        Script.Outputs.OutputStr = new Date(Script.Inputs.ExDate * 1000).toLocaleString('en-US', { year:'2-digit', month:'numeric', day:'numeric', hour: 'numeric', minute: '2-digit', timeZoneName: 'short' })\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nScript.Setters.Recurring = onChange;"},"ports":[{"name":"Recurring","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"ExDate","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"OutputStr","type":{"name":"string"},"plug":"output","group":"Outputs","index":7}],"children":[]},{"id":"96c0e8be-e860-45f6-0cc3-c4fe08db196a","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Recurring: \"number\",\r\n    StartDate: \"number\",\r\n    EndDate: \"number\"\r\n}\r\n\r\nScript.Outputs = {\r\n    OutputStr: \"string\"\r\n}\r\n\r\nfunction onChange() {\r\n    if (Script.Inputs.Recurring == 0){\r\n        const start = new Date(Script.Inputs.StartDate * 1000).toLocaleString('en-US', {year:'2-digit', month:'numeric', day:'numeric', hour: 'numeric', minute: '2-digit'})\r\n        const end = new Date(Script.Inputs.EndDate * 1000).toLocaleString('en-US', {year:'2-digit', month:'numeric', day:'numeric', hour: 'numeric', minute: '2-digit', timeZoneName: 'short'})\r\n        Script.Outputs.OutputStr = start + \" - \" + end\r\n    }\r\n    else if (Script.Inputs.Recurring == 7){\r\n        Script.Outputs.OutputStr = \"Weekly (Recurring)\"\r\n    }\r\n    else{\r\n        Script.Outputs.OutputStr = \"Monthly (Recurring)\"\r\n    }\r\n\r\n\r\n\r\n};\r\n\r\nScript.Setters.Recurring = onChange\r\nScript.Setters.StartDate = onChange;\r\nScript.Setters.EndDate = onChange"},"ports":[{"name":"Recurring","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"StartDate","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"EndDate","plug":"input","type":{"name":"number"},"group":"Inputs","index":7},{"name":"OutputStr","type":{"name":"string"},"plug":"output","group":"Outputs","index":8}],"children":[]},{"id":"04ab9c27-7dc9-076d-60ca-fa5dcc8010ea","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Row: \"number\"\r\n};\r\nScript.Outputs = {\r\n    Color: \"string\"\r\n};\r\nfunction onChange() {\r\n    if(Script.Inputs.Row % 2 == 0){Script.Outputs.Color = \"#F5F5F5\"}else{Script.Outputs.Color = \"#FFFFFF\"}\r\n};\r\n\r\nScript.Setters.Row = onChange;"},"ports":[{"name":"Row","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"Color","type":{"name":"string"},"plug":"output","group":"Outputs","index":6}],"children":[]},{"id":"1470a4e0-1b9a-340d-2017-197b5932960c","type":"Variable2","parameters":{"name":"reportingTableWidth"},"ports":[],"children":[]},{"id":"675303a6-19de-da54-e515-d70b9afc8cf9","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Width: \"number\",\r\n \r\n};\r\n\r\nScript.Outputs = {\r\n    ColOne: \"number\",\r\n    ColTwo: \"number\",\r\n    ColThree: \"number\",\r\n    ColFour: \"number\",\r\n    ColFive: \"number\",\r\n};\r\n\r\n\r\nfunction onChange(){\r\n    currWidth = Script.Inputs.Width - 100\r\n    if (currWidth * 0.15 > 200){Script.Outputs.ColOne = currWidth * 0.15}else{Script.Outputs.ColOne = 200}\r\n    if (currWidth * 0.15 > 100){Script.Outputs.ColTwo = currWidth * 0.15}else{Script.Outputs.ColTwo = 100}\r\n    if (currWidth * 0.15 > 125){Script.Outputs.ColThree = currWidth * 0.15}else{Script.Outputs.ColThree = 125}\r\n    if (currWidth * 0.35 > 350){Script.Outputs.ColFour = currWidth * 0.35}else{Script.Outputs.ColFour = 350}\r\n    if (currWidth * 0.20 > 200){Script.Outputs.ColFive = currWidth * 0.20}else{Script.Outputs.ColFive = 200}\r\n    Script.Outputs.ColSix = 50\r\n};\r\n\r\nScript.Setters.Width = onChange;\r\n"},"ports":[{"name":"Width","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"ColOne","type":{"name":"number"},"plug":"output","group":"Outputs","index":6},{"name":"ColTwo","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"ColThree","type":{"name":"number"},"plug":"output","group":"Outputs","index":8},{"name":"ColFour","type":{"name":"number"},"plug":"output","group":"Outputs","index":9},{"name":"ColFive","type":{"name":"number"},"plug":"output","group":"Outputs","index":10},{"name":"ColSix","displayName":"ColSix","plug":"output","type":"*","group":"Outputs","index":11}],"children":[]}],"connections":[{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"last_run","targetId":"5b057ade-939b-d174-8295-8f4cff89d21f","targetPort":"UnixTime"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"execution_date","targetId":"f0e99238-2dce-d873-91ba-1aada70d74bb","targetPort":"ExDate"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"recurring","targetId":"f0e99238-2dce-d873-91ba-1aada70d74bb","targetPort":"Recurring"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"recurring","targetId":"96c0e8be-e860-45f6-0cc3-c4fe08db196a","targetPort":"Recurring"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"start_date","targetId":"96c0e8be-e860-45f6-0cc3-c4fe08db196a","targetPort":"StartDate"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"end_date","targetId":"96c0e8be-e860-45f6-0cc3-c4fe08db196a","targetPort":"EndDate"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"id","targetId":"04ab9c27-7dc9-076d-60ca-fa5dcc8010ea","targetPort":"Row"},{"sourceId":"04ab9c27-7dc9-076d-60ca-fa5dcc8010ea","sourcePort":"Color","targetId":"b2121e9d-1fc1-7010-fe5c-70695957cfc3","targetPort":"backgroundColor"},{"sourceId":"f0e99238-2dce-d873-91ba-1aada70d74bb","sourcePort":"OutputStr","targetId":"bd1b4f85-109e-ac19-00bc-84dc903eee2f","targetPort":"text"},{"sourceId":"96c0e8be-e860-45f6-0cc3-c4fe08db196a","sourcePort":"OutputStr","targetId":"1c3e5ff8-6f60-c774-80b8-e676b59a0e97","targetPort":"text"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"group_ids","targetId":"4ca88202-e6a5-8043-82cd-659726b1fab0","targetPort":"text"},{"sourceId":"af486819-6fae-be97-a40d-e0a244ec40cc","sourcePort":"type","targetId":"5f5c3c56-fd7e-e1bf-fb11-070bdd245d93","targetPort":"text"},{"sourceId":"5b057ade-939b-d174-8295-8f4cff89d21f","sourcePort":"LastRunTime","targetId":"c102dac8-f31a-eb64-d118-858da88a01b6","targetPort":"text"},{"sourceId":"1470a4e0-1b9a-340d-2017-197b5932960c","sourcePort":"value","targetId":"675303a6-19de-da54-e515-d70b9afc8cf9","targetPort":"Width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColFive","targetId":"e236713d-295d-c47f-21d6-3749ab02b25e","targetPort":"width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColFour","targetId":"9faa534e-ba50-d94f-a1c5-ff27d803181a","targetPort":"width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColThree","targetId":"997a8f48-c283-a901-ff68-7527733f7f0a","targetPort":"width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColTwo","targetId":"15fdf551-e590-bf69-76e5-94fa528c867c","targetPort":"width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColOne","targetId":"ff41b140-7cbc-9fd5-3ae4-f8697cef2ec0","targetPort":"width"},{"sourceId":"675303a6-19de-da54-e515-d70b9afc8cf9","sourcePort":"ColSix","targetId":"d2f13962-5782-5646-2543-d9203c5cf521","targetPort":"width"}],"ports":[{"name":"group_ids","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":1},{"name":"end_date","type":{"name":"number"},"group":"Inputs","plug":"input","index":2},{"name":"execution_date","type":{"name":"number"},"group":"Inputs","plug":"input","index":3},{"name":"last_run","type":{"name":"number"},"group":"Inputs","plug":"input","index":4},{"name":"recurring","type":{"name":"number"},"group":"Inputs","plug":"input","index":5},{"name":"start_date","type":{"name":"number"},"group":"Inputs","plug":"input","index":6},{"name":"type","type":{"name":"string","multiline":true},"default":"Text","group":"Text","plug":"input","index":7},{"name":"id","type":{"name":"number"},"group":"Inputs","plug":"input","index":8}],"roots":["b2121e9d-1fc1-7010-fe5c-70695957cfc3"]},{"name":"/Modals/Create Report Queue Modal","nodes":[{"id":"aed947c4-d9db-5ce8-d253-45480f0410bc","type":"NavigationShowPopup","parameters":{"target":"/Modals/Create Report Queue Modal/Modal Component"},"ports":[],"children":[]},{"id":"7186bbce-eca7-ce9e-0279-e1c0fb938f8f","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"39dc5595-05dc-94c5-ab66-6c41c909799a","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"d2bef81f-138e-a886-aa3f-dcf085322ce8","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"7186bbce-eca7-ce9e-0279-e1c0fb938f8f","sourcePort":"Show popup","targetId":"aed947c4-d9db-5ce8-d253-45480f0410bc","targetPort":"show"},{"sourceId":"7186bbce-eca7-ce9e-0279-e1c0fb938f8f","sourcePort":"Component to show","targetId":"aed947c4-d9db-5ce8-d253-45480f0410bc","targetPort":"target"},{"sourceId":"aed947c4-d9db-5ce8-d253-45480f0410bc","sourcePort":"Closed","targetId":"39dc5595-05dc-94c5-ab66-6c41c909799a","targetPort":"Closed"},{"sourceId":"d2bef81f-138e-a886-aa3f-dcf085322ce8","sourcePort":"Width","targetId":"39dc5595-05dc-94c5-ab66-6c41c909799a","targetPort":"Width"},{"sourceId":"7186bbce-eca7-ce9e-0279-e1c0fb938f8f","sourcePort":"Close","targetId":"39dc5595-05dc-94c5-ab66-6c41c909799a","targetPort":"Closed"}],"ports":[{"name":"Show popup","type":{"name":"signal","allowConnectionsOnly":true},"group":"Actions","plug":"input","index":0},{"name":"Closed","type":"signal","plug":"output","index":1},{"name":"Component to show","type":"component","default":"/Modals/Create Report Queue Modal/Modal Component","group":"General","plug":"input","index":1},{"name":"Close","type":{"name":"*"},"plug":"input","index":2},{"name":"Width","type":"number","plug":"output","index":3}],"roots":[]},{"name":"/Modals/Create Report Queue Modal/Modal Component","nodes":[{"id":"090ad3d9-da11-6f7e-c774-47df96ce7dec","type":"Group","parameters":{},"ports":[],"children":[{"id":"68c8d841-1a70-2f0e-087c-636a492775ae","type":"Group","parameters":{"backgroundColor":"#000000A5"},"ports":[],"children":[]},{"id":"3a635275-188f-0c4e-5c42-6999b9a948b7","type":"Group","parameters":{"position":"absolute","alignY":"center","alignX":"center","sizeMode":"contentHeight","backgroundColor":"#FFFFFF","boxShadowEnabled":true,"blockTouch":true,"borderRadius":{"value":8,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"paddingTop":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"boxShadowBlurRadius":{"value":8,"unit":"px"},"boxShadowSpreadRadius":{"value":0,"unit":"px"},"boxShadowOffsetY":{"value":4,"unit":"px"},"boxShadowColor":"#00000026","borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#C9C9C9","width":{"value":80,"unit":"%"},"height":{"value":80,"unit":"%"},"styleCss":"overflow: hidden;"},"ports":[],"children":[{"id":"1864ad43-a14f-0edc-338a-3a9a18af3680","type":"Group","parameters":{"flexDirection":"row","marginBottom":{"value":0,"unit":"px"},"sizeMode":"contentHeight","marginTop":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"paddingTop":{"value":15,"unit":"px"},"paddingLeft":{"value":15,"unit":"px"},"paddingRight":{"value":15,"unit":"px"},"paddingBottom":{"value":15,"unit":"px"},"borderBottomStyle":"solid","borderBottomWidth":{"value":1,"unit":"px"},"borderBottomColor":"#C9C9C9","backgroundColor":"#F5F5F5"},"ports":[],"children":[{"id":"6dfecaa8-8009-9bc7-2e9b-8e33248e7a30","type":"Text","parameters":{"textStyle":"Standard","text":"Create Report Queue","marginRight":{"value":24,"unit":"px"},"fontSize":{"value":20,"unit":"px"},"marginBottom":{"value":0,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[]},{"id":"76de1d84-c98c-1ba2-c66e-fa37c09487fb","type":"Group","parameters":{"sizeMode":"contentSize","alignX":"right"},"ports":[],"children":[{"id":"a2a0dadc-7093-5a90-2c2f-429993e32297","type":"net.noodl.visual.icon","parameters":{"iconColor":"#616161","iconSize":{"value":24,"unit":"px"},"iconIconSource":{"class":"material-icons","code":"close","codeAsClass":false},"alignY":"center","alignX":"right","styleCss":"cursor: pointer;","paddingTop":{"value":0,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"paddingBottom":{"value":0,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"}},"ports":[],"children":[]}]}]},{"id":"3829db76-c95a-c93c-c448-852df54e9fd1","type":"Group","parameters":{"styleCss":"overflow-y: scroll;","justifyContent":"flex-start"},"ports":[],"children":[{"id":"7749acfd-2074-5131-d7b2-08c20752e2cc","type":"Group","parameters":{"backgroundColor":"#FFFFFF","sizeMode":"contentHeight","mounted":true,"marginTop":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"e15ed2fd-08a1-4857-989e-3ef63bb0e9f3","type":"Text","parameters":{"fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":14,"unit":"px"},"color":"#616161","text":"Report Target","marginBottom":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"08d4e050-ad15-a04c-236c-e66037d6edc8","type":"/Visual Comps/Site Network Select Dropdown/Dropdown","parameters":{},"ports":[],"children":[]}]},{"id":"756e01ce-4cf3-8aff-aa78-2a41bc882b8e","type":"Group","parameters":{"backgroundColor":"#FFFFFF","sizeMode":"contentHeight","mounted":true,"marginTop":{"value":20,"unit":"px"},"paddingLeft":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"d22cb7ef-3fe4-10f7-6507-e34250b9e61d","type":"Text","parameters":{"fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":14,"unit":"px"},"color":"#616161","text":"Report Type","marginBottom":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"803d16e0-da0a-042d-e74a-c88a1e3064bf","type":"Radio Button Group","parameters":{"flexDirection":"row","marginTop":{"value":10,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"value":"performance"},"ports":[],"children":[{"id":"8905d864-a800-dbef-79e4-2a29012c768e","type":"net.noodl.controls.radiobutton","parameters":{"width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","labelfontSize":{"value":14,"unit":"px"},"labelcolor":"#616161","label":"Performance","paddingRight":{"value":15,"unit":"px"},"value":"performance"},"stateParameters":{"checked":{"fillColor":"#253F8E","borderColor":"#253F8E"}},"ports":[],"children":[]},{"id":"bdad0277-1522-f22d-0ad8-ee313185e6be","type":"net.noodl.controls.radiobutton","parameters":{"width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","labelfontSize":{"value":14,"unit":"px"},"labelcolor":"#616161","label":"Alarms","paddingRight":{"value":15,"unit":"px"},"value":"alarms"},"stateParameters":{"checked":{"fillColor":"#253F8E","borderColor":"#253F8E"}},"ports":[],"children":[]}]}]},{"id":"d3c70b5f-e6a5-ff78-c06d-4438b07c3d7d","type":"Group","parameters":{"marginTop":{"value":20,"unit":"px"},"marginLeft":{"value":20,"unit":"px"},"sizeMode":"contentSize"},"ports":[],"children":[{"id":"b3c135da-9647-92fb-b3dc-18dae5b6bf5e","type":"Text","parameters":{"fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":14,"unit":"px"},"color":"#616161","text":"Report Interval","marginBottom":{"value":5,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"marginLeft":{"value":0,"unit":"px"}},"ports":[],"children":[]},{"id":"a87e584a-2b8e-1e60-e392-ccedbc543d5b","type":"Radio Button Group","parameters":{"flexDirection":"row","marginTop":{"value":10,"unit":"px"},"paddingLeft":{"value":0,"unit":"px"},"value":"one_time"},"ports":[],"children":[{"id":"942620ee-a671-59d9-1aed-0b6339b1c937","type":"net.noodl.controls.radiobutton","parameters":{"width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","labelfontSize":{"value":14,"unit":"px"},"labelcolor":"#616161","label":"One Time","paddingRight":{"value":15,"unit":"px"},"value":"one_time","useIcon":false},"stateParameters":{"checked":{"fillColor":"#253F8E","borderColor":"#253F8E"}},"ports":[],"children":[]},{"id":"6d40de61-c4a5-7583-ec56-3256e2d60df8","type":"net.noodl.controls.radiobutton","parameters":{"width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","labelfontSize":{"value":14,"unit":"px"},"labelcolor":"#616161","label":"Weekly Recurring","paddingRight":{"value":15,"unit":"px"},"value":"weekly"},"stateParameters":{"checked":{"fillColor":"#253F8E","borderColor":"#253F8E"}},"ports":[],"children":[]},{"id":"5c53e36b-1014-9fa3-77a8-b3feaefef256","type":"net.noodl.controls.radiobutton","parameters":{"width":{"value":16,"unit":"px"},"height":{"value":16,"unit":"px"},"labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf","labelfontSize":{"value":14,"unit":"px"},"labelcolor":"#616161","label":"Monthly Recurring","paddingRight":{"value":15,"unit":"px"},"value":"monthly"},"stateParameters":{"checked":{"fillColor":"#253F8E","borderColor":"#253F8E"}},"ports":[],"children":[]}]}]},{"id":"3cf5fa75-ec4e-5a15-34d7-461653bf16c1","type":"Group","parameters":{"height":{"value":75,"unit":"px"},"sizeMode":"explicit","justifyContent":"flex-start","marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"c7f9b00e-3e40-e395-4c72-69ea90bad52c","type":"Group","parameters":{"flexDirection":"row","width":{"value":100,"unit":"%"},"alignItems":"center","sizeMode":"contentHeight","justifyContent":"flex-start","paddingLeft":{"value":20,"unit":"px"},"marginTop":{"value":10,"unit":"px"},"mounted":false},"ports":[],"children":[{"id":"4adde8f6-2c04-1372-66d5-041a400bb934","type":"/Visual Comps/Date Picker","parameters":{"Width":{"value":40,"unit":"%","isFixed":true},"Margin Right":{"value":15,"unit":"px"}},"ports":[],"children":[]},{"id":"d5832003-ac9e-d22b-0748-a1239a77cc28","type":"/Visual Comps/Date Picker","parameters":{"Width":{"value":40,"unit":"%","isFixed":true}},"ports":[],"children":[]}]},{"id":"e2b5d3b7-ee36-dc85-86aa-82347338fcd4","type":"Group","parameters":{"paddingLeft":{"value":20,"unit":"px"},"mounted":false,"marginTop":{"value":10,"unit":"px"}},"ports":[],"children":[{"id":"fd4bb30a-b95b-f43c-01b2-ae8ca49d582e","type":"Text","parameters":{"fontSize":{"value":14,"unit":"px"},"color":"#616161","fontFamily":"deploy/fonts/Roboto/Roboto-Italic.ttf"},"ports":[],"children":[]}]}]},{"id":"790ed0ea-0475-a9b1-f800-2878ef11e3e9","type":"Group","parameters":{"marginBottom":{"value":10,"unit":"px"},"height":{"value":40,"unit":"px"},"sizeMode":"contentWidth","marginTop":{"value":10,"unit":"px"},"marginLeft":{"value":20,"unit":"px"}},"ports":[],"children":[{"id":"95da7691-5053-dd59-72de-66459d052c5f","type":"net.noodl.controls.button","parameters":{"backgroundColor":"#253F8E","label":"Submit"},"ports":[],"children":[]}]}]}]}]},{"id":"131a2404-46ba-3b9b-efb7-3fb1c7eb9058","type":"Screen Resolution","parameters":{},"ports":[],"children":[]},{"id":"8613514a-47f1-d1b9-39a7-ac741190be4f","type":"States","parameters":{"states":"hide,show","values":"size,opacity","value-hide-size":0,"value-show-size":1,"value-hide-opacity":0,"value-show-opacity":1,"currentState":"hide","transitiondef-hide":{"curve":[0,0,0.58,1],"dur":150,"delay":0},"transitiondef-show":{"curve":[0,0,0.58,1],"dur":150,"delay":0}},"ports":[],"children":[]},{"id":"a110a5c4-298e-bbcc-e1f4-b013f7e50b0a","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]},{"id":"03287584-4205-0446-ba03-198014889387","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    \"Width\": \"number\",\r\n    \"Height\": \"number\"\r\n};\r\n\r\nScript.Outputs = {\r\n    WidthOut: \"number\",\r\n    HeightOut: \"number\"\r\n}\r\n\r\nfunction onChange() {\r\n    Script.Outputs.WidthOut = Script.Inputs.Width * 0.75;\r\n    Script.Outputs.HeightOut = Script.Inputs.Height * 0.50;\r\n};\r\n\r\nScript.Setters.Width = onChange;\r\nScript.Setters.Height = onChange"},"ports":[{"name":"Width","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"Height","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"WidthOut","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"HeightOut","type":{"name":"number"},"plug":"output","group":"Outputs","index":8}],"children":[]},{"id":"8d514cb3-3754-3a2d-7b04-97e69c976de0","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]},{"id":"0e1cb5df-3861-ff77-fed7-eb417aa868cf","type":"States","parameters":{"states":"Desktop,Mobile","values":"width,height,corner","value-Desktop-width":40,"value-Desktop-height":50,"value-Mobile-width":100,"value-Mobile-height":100,"value-Desktop-corner":8,"value-Mobile-corner":0},"ports":[],"children":[]},{"id":"1f26a373-5a39-ef6d-68f5-477c79d919ee","type":"Timer","parameters":{"duration":300},"ports":[],"children":[]},{"id":"26688883-1c87-cb45-deb4-5d2a95b568bb","type":"REST2","parameters":{"method":"POST","requestScript":"Request.headers['authorization'] = 'Basic dmlzaW9uX3VzZXI6aGpheTZod24hbGFvNTU=';\n\nRequest.content = {\n    session:localStorage.getItem('session')\n};\n\n","responseScript":"Outputs.StationVals = Response.content.data.values;\r\nOutputs.Authorized = Response.content.data.authorized\r\nOutputs.Networks = Response.content.data.networks;","resource":"https://api.orbitaldata.net/vision_mysql_station_cfg"},"ports":[],"children":[]},{"id":"4189012f-050b-2e2a-b7cb-12429523b92c","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    SqlData: \"array\",\r\n    Networks: \"array\",\r\n}\r\n\r\nScript.Outputs = {\r\n    Output: \"array\"\r\n}\r\n\r\nScript.Signals.Run = function () {\r\n    var outputArray = []\r\n    var networks = Script.Inputs.Networks\r\n    var sites = Script.Inputs.SqlData\r\n\r\n\r\n    // Add networks to array\r\n    outputArray.push({\"text\": \"Networks\", \"header\": true})\r\n    for (const n in networks){\r\n        outputArray.push({\"text\": networks[n], \"header\": false})\r\n    }\r\n\r\n    // Add sites to array\r\n    outputArray.push({\"text\": \"Sites\", \"header\": true})\r\n    for (const s in sites){\r\n        outputArray.push({\"text\": sites[s]['site_id'], \"header\": false})\r\n    }\r\n    Script.Outputs.Output = outputArray;\r\n};\r\n\r\n"},"ports":[{"name":"SqlData","plug":"input","type":{"name":"array"},"group":"Inputs","index":5},{"name":"Networks","plug":"input","type":{"name":"array"},"group":"Inputs","index":6},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":7},{"name":"Output","type":{"name":"array"},"plug":"output","group":"Outputs","index":8}],"children":[]},{"id":"9c4dc25f-4cf5-91ad-3f25-0080b1ce8d6a","type":"Variable2","parameters":{"name":"reportModalNetwork"},"ports":[],"children":[]},{"id":"c3d5a522-8556-483b-fd83-53d8f6574e44","type":"Set Variable","parameters":{"name":"reportModalNetwork","setWith":"string","value":"Network / Site ID"},"ports":[],"children":[]},{"id":"fe5a65a4-7858-e256-bba6-df55088b0d52","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    ReportInterval: \"string\",\r\n}\r\n\r\nScript.Outputs = {\r\n    MsgMounted: \"boolean\",\r\n    DatePickerMounted: \"boolean\",\r\n    TextOutput: \"string\",\r\n    NextSunday: \"number\",\r\n    NextMonth: \"number\"\r\n}\r\n\r\n\r\nfunction onChange() {\r\n    var msgMounted = false;\r\n    var datePickerMounted = false;\r\n    if (Script.Inputs.ReportInterval == \"one_time\"){datePickerMounted = true};\r\n    if (Script.Inputs.ReportInterval == \"weekly\" || Script.Inputs.ReportInterval == \"monthly\"){msgMounted = true};\r\n\r\n    // Text logic\r\n    const tzCode = new Date().toLocaleTimeString('en-us',{timeZoneName:'short'}).split(' ')[2]\r\n\r\n    if (Script.Inputs.ReportInterval == \"weekly\"){\r\n        const currentDate = new Date();\r\n        const currentDay = currentDate.getDay();\r\n        const daysUntilNextSunday = (currentDay === 0) ? 7 : 7 - currentDay;\r\n        var nextSunday = new Date(currentDate.setDate(currentDate.getDate() + daysUntilNextSunday));\r\n        Script.Outputs.TextOutput = \"Next report will be generated on \" + nextSunday.toLocaleDateString() + \" 00:00 \" + tzCode\r\n        // Create unix execution dates from nextsunday for use in SQL preperation script. \r\n        nextSunday = nextSunday.setHours(00,00,00);\r\n        Script.Outputs.NextSunday = Math.trunc(nextSunday / 1000)\r\n        };\r\n\r\n    if (Script.Inputs.ReportInterval == \"monthly\"){\r\n        const date = new Date();\r\n        date.setMonth(date.getMonth() + 1);\r\n        Script.Outputs.TextOutput = \"Next report will be generated on \" + `${date.getMonth() + 1}/1/${date.getFullYear()}` + \" 00:00 \" + tzCode\r\n        // Create unix execution dates from nextmonth for use in SQL preperation script. \r\n        var nextMonth = `${date.getMonth() + 1}/1/${date.getFullYear()}`\r\n        nextMonth = new Date(nextMonth)\r\n        Script.Outputs.NextMonth = Math.trunc(nextMonth.setHours(00,00,00)/1000)\r\n        };\r\n        \r\n    Script.Outputs.MsgMounted = msgMounted;\r\n    Script.Outputs.DatePickerMounted = datePickerMounted;\r\n\r\n};\r\n\r\nScript.Setters.ReportInterval = onChange;"},"ports":[{"name":"ReportInterval","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"MsgMounted","type":{"name":"boolean"},"plug":"output","group":"Outputs","index":6},{"name":"DatePickerMounted","type":{"name":"boolean"},"plug":"output","group":"Outputs","index":7},{"name":"TextOutput","type":{"name":"string"},"plug":"output","group":"Outputs","index":8},{"name":"NextSunday","type":{"name":"number"},"plug":"output","group":"Outputs","index":9},{"name":"NextMonth","type":{"name":"number"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    StartDate: \"string\",\r\n    EndDate: \"string\",\r\n    ReportTarget: \"string\",\r\n    ReportType: \"string\",\r\n    ReportInterval: \"string\",\r\n    NextSunday: \"number\",\r\n    NextMonth: \"number\"\r\n}\r\n\r\nScript.Outputs = {\r\n    \r\n    ToastMessage: \"string\",\r\n    ToastType: \"string\",\r\n    ToastSignal: \"signal\",\r\n    StartDateParsed: \"number\",\r\n    EndDateParsed: \"number\",\r\n    ReportTypeParsed: \"string\",\r\n    ReportIntervalParsed: \"number\",\r\n    ReportTargetParsed: \"string\",\r\n    ExDate: \"number\",\r\n    TzOffset: \"number\",\r\n    TzLocal: \"string\",\r\n    Done: \"signal\"\r\n}\r\n\r\nScript.Signals.Run = function () {\r\n    // Validate target field\r\n    if (Script.Inputs.ReportTarget == null){\r\n        Script.Outputs.ToastMessage = \"Invalid or Empty Report Submission Fields.\"\r\n        Script.Outputs.ToastType = \"Error\"\r\n        Script.Outputs.ToastSignal();\r\n    }\r\n    else if (Script.Inputs.ReportInterval == \"one_time\" && Script.Inputs.StartDate == null){\r\n        Script.Outputs.ToastMessage = \"Invalid or Empty Report Submission Fields.\"\r\n        Script.Outputs.ToastType = \"Error\"\r\n        Script.Outputs.ToastSignal(); \r\n    }\r\n    else if (Script.Inputs.ReportInterval == \"one_time\" && Script.Inputs.EndDate == null){\r\n        Script.Outputs.ToastMessage = \"Invalid or Empty Report Submission Fields.\"\r\n        Script.Outputs.ToastType = \"Error\"\r\n        Script.Outputs.ToastSignal(); \r\n    }\r\n    else if (new Date(Script.Inputs.StartDate) > new Date(Script.Inputs.EndDate)){\r\n        Script.Outputs.ToastMessage = \"Invalid or Empty Report Submission Fields.\"\r\n        Script.Outputs.ToastType = \"Error\"\r\n        Script.Outputs.ToastSignal(); \r\n    }\r\n\r\n    else {\r\n        // Parse start date into epochtime (TZ corrected for midnight local time)\r\n        if (Script.Inputs.ReportInterval == \"one_time\"){\r\n            var startDate = (new Date(Script.Inputs.StartDate).setUTCHours(00,00,00) / 1000) + ((new Date().getTimezoneOffset() * -60) * -1);\r\n            var endDate = new Date(Script.Inputs.EndDate).setUTCHours(00,00,00) / 1000 + ((new Date().getTimezoneOffset() * -60) * -1);\r\n        }else{\r\n            var startDate = 0\r\n            var endDate = 0\r\n            }\r\n\r\n        if (Script.Inputs.ReportType == \"performance\") {\r\n            var reportType = \"summary\"\r\n        }else {var reportType = \"alarms\"}\r\n\r\n        if (Script.Inputs.ReportInterval == \"one_time\"){\r\n            var reportInterval = 0\r\n            var exDate = Math.trunc(Date.now() / 1000)\r\n        }else if (Script.Inputs.ReportInterval == \"weekly\"){\r\n            var reportInterval = 7\r\n            var exDate = Script.Inputs.NextSunday\r\n        }else if (Script.Inputs.ReportInterval == \"monthly\"){\r\n            var reportInterval = 30\r\n            var exDate = Script.Inputs.NextMonth\r\n        }\r\n        var reportTarget = Script.Inputs.ReportTarget\r\n        var tzOffset = new Date().getTimezoneOffset() * -60;\r\n        var tzLoc = new Date().toLocaleTimeString('en-us',{timeZoneName:'short'}).split(' ')[2]\r\n\r\n        // Set Outputs\r\n        Script.Outputs.StartDateParsed = startDate;\r\n        Script.Outputs.EndDateParsed = endDate;\r\n        Script.Outputs.ReportTypeParsed = reportType;\r\n        Script.Outputs.ReportIntervalParsed = reportInterval;\r\n        Script.Outputs.ReportTargetParsed = reportTarget;\r\n        Script.Outputs.ExDate = exDate;\r\n        Script.Outputs.TzOffset = tzOffset;\r\n        Script.Outputs.TzLocal = tzLoc;\r\n        Script.Outputs.Done();\r\n    \r\n    }\r\n}"},"ports":[{"name":"StartDate","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"EndDate","plug":"input","type":{"name":"string"},"group":"Inputs","index":6},{"name":"ReportTarget","plug":"input","type":{"name":"string"},"group":"Inputs","index":7},{"name":"ReportType","plug":"input","type":{"name":"string"},"group":"Inputs","index":8},{"name":"ReportInterval","plug":"input","type":{"name":"string"},"group":"Inputs","index":9},{"name":"NextSunday","plug":"input","type":{"name":"number"},"group":"Inputs","index":10},{"name":"NextMonth","plug":"input","type":{"name":"number"},"group":"Inputs","index":11},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":12},{"name":"ToastMessage","type":{"name":"string"},"plug":"output","group":"Outputs","index":13},{"name":"ToastType","type":{"name":"string"},"plug":"output","group":"Outputs","index":14},{"name":"ToastSignal","type":{"name":"signal"},"plug":"output","group":"Outputs","index":15},{"name":"StartDateParsed","type":{"name":"number"},"plug":"output","group":"Outputs","index":16},{"name":"EndDateParsed","type":{"name":"number"},"plug":"output","group":"Outputs","index":17},{"name":"ReportTypeParsed","type":{"name":"string"},"plug":"output","group":"Outputs","index":18},{"name":"ReportIntervalParsed","type":{"name":"number"},"plug":"output","group":"Outputs","index":19},{"name":"ReportTargetParsed","type":{"name":"string"},"plug":"output","group":"Outputs","index":20},{"name":"ExDate","type":{"name":"number"},"plug":"output","group":"Outputs","index":21},{"name":"TzOffset","type":{"name":"number"},"plug":"output","group":"Outputs","index":22},{"name":"TzLocal","type":{"name":"string"},"plug":"output","group":"Outputs","index":23},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":24}],"children":[]},{"id":"20312e53-0f0b-9197-5569-52139feff192","type":"/Visual Comps/Show Toast","parameters":{},"ports":[],"children":[]},{"id":"046bd06d-e74c-4899-4233-a06887d35c5b","type":"REST2","parameters":{"requestScript":"Request.headers['authorization'] = 'Basic dmlzaW9uX3VzZXI6aGpheTZod24hbGFvNTU=';\nRequest.content = {\n    session:localStorage.getItem('session'),\n    req_nets: Inputs.NetIds,\n    ex_date: Inputs.ExDate,\n    type: Inputs.ReportType,\n    rec: Inputs.ReportInterval,\n    sd: Inputs.StartDate,\n    ed: Inputs.EndDate,\n    tz_off: Inputs.TzOff,\n    tz_lcl: Inputs.TzLoc\n};\n","responseScript":"Outputs.Success = Response.content.success;\nOutputs.Authorized = Response.content.data.authorized","resource":"https://api.orbitaldata.net/vision_mysql_queue_report","method":"POST"},"ports":[],"children":[]},{"id":"5d429403-90bd-5815-3833-d3f623fe6b50","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    Success: \"boolean\",\r\n    Auth: \"boolean\"\r\n}\r\n\r\nScript.Outputs = {\r\n    ToastMsg: \"string\",\r\n    ToastType: \"string\",\r\n    LoadToast: \"signal\"\r\n}\r\nScript.Signals.Run = function () {\r\n    if (Script.Inputs.Success && Script.Inputs.Auth){\r\n        Script.Outputs.ToastMsg = \"Report Successfully Queued.\";\r\n        Script.Outputs.ToastType = \"Success\";\r\n        Script.Outputs.LoadToast();\r\n    }else{\r\n        Script.Outputs.ToastMsg = \"There was an error queuing the report, please try again.\";\r\n        Script.Outputs.ToastType = \"Error\";\r\n        Script.Outputs.LoadToast();\r\n    }\r\n}"},"ports":[{"name":"Success","plug":"input","type":{"name":"boolean"},"group":"Inputs","index":5},{"name":"Auth","plug":"input","type":{"name":"boolean"},"group":"Inputs","index":6},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":7},{"name":"ToastMsg","type":{"name":"string"},"plug":"output","group":"Outputs","index":8},{"name":"ToastType","type":{"name":"string"},"plug":"output","group":"Outputs","index":9},{"name":"LoadToast","type":{"name":"signal"},"plug":"output","group":"Outputs","index":10}],"children":[]},{"id":"53bdc9c1-810f-9928-874e-de44e61adac3","type":"Event Sender","parameters":{"channelName":"reportQueuedSuccess"},"ports":[],"children":[]},{"id":"9f5980a4-47df-5032-2f65-9c96435dafad","type":"NavigationClosePopup","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8613514a-47f1-d1b9-39a7-ac741190be4f","sourcePort":"opacity","targetId":"68c8d841-1a70-2f0e-087c-636a492775ae","targetPort":"opacity"},{"sourceId":"8613514a-47f1-d1b9-39a7-ac741190be4f","sourcePort":"opacity","targetId":"3a635275-188f-0c4e-5c42-6999b9a948b7","targetPort":"opacity"},{"sourceId":"8613514a-47f1-d1b9-39a7-ac741190be4f","sourcePort":"size","targetId":"3a635275-188f-0c4e-5c42-6999b9a948b7","targetPort":"transformScale"},{"sourceId":"090ad3d9-da11-6f7e-c774-47df96ce7dec","sourcePort":"didMount","targetId":"8613514a-47f1-d1b9-39a7-ac741190be4f","targetPort":"to-show"},{"sourceId":"76de1d84-c98c-1ba2-c66e-fa37c09487fb","sourcePort":"onClick","targetId":"a110a5c4-298e-bbcc-e1f4-b013f7e50b0a","targetPort":"close"},{"sourceId":"68c8d841-1a70-2f0e-087c-636a492775ae","sourcePort":"onClick","targetId":"a110a5c4-298e-bbcc-e1f4-b013f7e50b0a","targetPort":"close"},{"sourceId":"131a2404-46ba-3b9b-efb7-3fb1c7eb9058","sourcePort":"width","targetId":"03287584-4205-0446-ba03-198014889387","targetPort":"Width"},{"sourceId":"8d514cb3-3754-3a2d-7b04-97e69c976de0","sourcePort":"Device Type","targetId":"0e1cb5df-3861-ff77-fed7-eb417aa868cf","targetPort":"currentState"},{"sourceId":"0e1cb5df-3861-ff77-fed7-eb417aa868cf","sourcePort":"width","targetId":"3a635275-188f-0c4e-5c42-6999b9a948b7","targetPort":"width"},{"sourceId":"0e1cb5df-3861-ff77-fed7-eb417aa868cf","sourcePort":"height","targetId":"3a635275-188f-0c4e-5c42-6999b9a948b7","targetPort":"height"},{"sourceId":"0e1cb5df-3861-ff77-fed7-eb417aa868cf","sourcePort":"corner","targetId":"3a635275-188f-0c4e-5c42-6999b9a948b7","targetPort":"borderRadius"},{"sourceId":"1f26a373-5a39-ef6d-68f5-477c79d919ee","sourcePort":"timerFinished","targetId":"a110a5c4-298e-bbcc-e1f4-b013f7e50b0a","targetPort":"close"},{"sourceId":"26688883-1c87-cb45-deb4-5d2a95b568bb","sourcePort":"out-StationVals","targetId":"4189012f-050b-2e2a-b7cb-12429523b92c","targetPort":"SqlData"},{"sourceId":"26688883-1c87-cb45-deb4-5d2a95b568bb","sourcePort":"success","targetId":"4189012f-050b-2e2a-b7cb-12429523b92c","targetPort":"Run"},{"sourceId":"26688883-1c87-cb45-deb4-5d2a95b568bb","sourcePort":"out-Networks","targetId":"4189012f-050b-2e2a-b7cb-12429523b92c","targetPort":"Networks"},{"sourceId":"4189012f-050b-2e2a-b7cb-12429523b92c","sourcePort":"Output","targetId":"08d4e050-ad15-a04c-236c-e66037d6edc8","targetPort":"items"},{"sourceId":"9c4dc25f-4cf5-91ad-3f25-0080b1ce8d6a","sourcePort":"value","targetId":"08d4e050-ad15-a04c-236c-e66037d6edc8","targetPort":"default"},{"sourceId":"090ad3d9-da11-6f7e-c774-47df96ce7dec","sourcePort":"didMount","targetId":"c3d5a522-8556-483b-fd83-53d8f6574e44","targetPort":"do"},{"sourceId":"090ad3d9-da11-6f7e-c774-47df96ce7dec","sourcePort":"didMount","targetId":"26688883-1c87-cb45-deb4-5d2a95b568bb","targetPort":"fetch"},{"sourceId":"a87e584a-2b8e-1e60-e392-ccedbc543d5b","sourcePort":"value","targetId":"fe5a65a4-7858-e256-bba6-df55088b0d52","targetPort":"ReportInterval"},{"sourceId":"fe5a65a4-7858-e256-bba6-df55088b0d52","sourcePort":"MsgMounted","targetId":"e2b5d3b7-ee36-dc85-86aa-82347338fcd4","targetPort":"mounted"},{"sourceId":"fe5a65a4-7858-e256-bba6-df55088b0d52","sourcePort":"DatePickerMounted","targetId":"c7f9b00e-3e40-e395-4c72-69ea90bad52c","targetPort":"mounted"},{"sourceId":"fe5a65a4-7858-e256-bba6-df55088b0d52","sourcePort":"TextOutput","targetId":"fd4bb30a-b95b-f43c-01b2-ae8ca49d582e","targetPort":"text"},{"sourceId":"4adde8f6-2c04-1372-66d5-041a400bb934","sourcePort":"Value","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"StartDate"},{"sourceId":"d5832003-ac9e-d22b-0748-a1239a77cc28","sourcePort":"Value","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"EndDate"},{"sourceId":"08d4e050-ad15-a04c-236c-e66037d6edc8","sourcePort":"selected","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"ReportTarget"},{"sourceId":"803d16e0-da0a-042d-e74a-c88a1e3064bf","sourcePort":"value","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"ReportType"},{"sourceId":"a87e584a-2b8e-1e60-e392-ccedbc543d5b","sourcePort":"value","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"ReportInterval"},{"sourceId":"95da7691-5053-dd59-72de-66459d052c5f","sourcePort":"onClick","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"Run"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ToastSignal","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Do"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ToastType","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Type"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ToastMessage","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Message"},{"sourceId":"fe5a65a4-7858-e256-bba6-df55088b0d52","sourcePort":"NextSunday","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"NextSunday"},{"sourceId":"fe5a65a4-7858-e256-bba6-df55088b0d52","sourcePort":"NextMonth","targetId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","targetPort":"NextMonth"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"StartDateParsed","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-StartDate"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"EndDateParsed","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-EndDate"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ReportTypeParsed","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-ReportType"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ReportIntervalParsed","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-ReportInterval"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ReportTargetParsed","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-NetIds"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"ExDate","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-ExDate"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"TzOffset","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-TzOff"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"TzLocal","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"in-TzLoc"},{"sourceId":"046bd06d-e74c-4899-4233-a06887d35c5b","sourcePort":"success","targetId":"5d429403-90bd-5815-3833-d3f623fe6b50","targetPort":"Run"},{"sourceId":"046bd06d-e74c-4899-4233-a06887d35c5b","sourcePort":"out-Success","targetId":"5d429403-90bd-5815-3833-d3f623fe6b50","targetPort":"Success"},{"sourceId":"046bd06d-e74c-4899-4233-a06887d35c5b","sourcePort":"out-Authorized","targetId":"5d429403-90bd-5815-3833-d3f623fe6b50","targetPort":"Auth"},{"sourceId":"5d429403-90bd-5815-3833-d3f623fe6b50","sourcePort":"ToastMsg","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Message"},{"sourceId":"5d429403-90bd-5815-3833-d3f623fe6b50","sourcePort":"ToastType","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Type"},{"sourceId":"5d429403-90bd-5815-3833-d3f623fe6b50","sourcePort":"LoadToast","targetId":"20312e53-0f0b-9197-5569-52139feff192","targetPort":"Do"},{"sourceId":"d9ffd75b-7d88-e71b-9b39-cbbc05be15d2","sourcePort":"Done","targetId":"046bd06d-e74c-4899-4233-a06887d35c5b","targetPort":"fetch"},{"sourceId":"046bd06d-e74c-4899-4233-a06887d35c5b","sourcePort":"success","targetId":"53bdc9c1-810f-9928-874e-de44e61adac3","targetPort":"sendEvent"},{"sourceId":"046bd06d-e74c-4899-4233-a06887d35c5b","sourcePort":"success","targetId":"9f5980a4-47df-5032-2f65-9c96435dafad","targetPort":"close"}],"ports":[],"roots":["090ad3d9-da11-6f7e-c774-47df96ce7dec"]},{"name":"/Visual Comps/Date Picker","nodes":[{"id":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","type":"Group","parameters":{"height":{"value":40,"unit":"px"},"borderColor":"#999","flexDirection":"column","sizeMode":"contentHeight","borderWidth":{"value":2,"unit":"px"},"styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"5d12d7fa-3c1b-b95f-da69-97415cc1db6c","type":"Text","parameters":{"textStyle":"Label Small","marginBottom":{"value":4,"unit":"px"},"text":"Start Date","color":"#616161","sizeMode":"contentSize","fontFamily":"deploy/fonts/Roboto/Roboto-Medium.ttf","fontSize":{"value":14,"unit":"px"}},"ports":[],"children":[]},{"id":"9b7e3132-0b2c-c7bd-32f9-87fa8e305e71","type":"Group","parameters":{"height":{"value":30,"unit":"px"}},"ports":[],"children":[{"id":"5ea373f7-63ea-1295-9ca0-09e3ea6864cd","type":"Group","parameters":{"position":"absolute","sizeMode":"contentSize","alignY":"center","styleCss":"cursor:pointer;"},"ports":[],"children":[{"id":"60a09191-318b-50e5-0c19-9ae8deed93dd","type":"net.noodl.visual.icon","parameters":{"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSize":{"value":18,"unit":"px"},"iconColor":"#8C8C8C","marginLeft":{"value":12,"unit":"px"}},"ports":[],"children":[]}]},{"id":"5220949d-0c9b-94c5-aea8-aa9acd205e95","type":"net.noodl.controls.textinput","parameters":{"useLabel":false,"placeholder":"MMM DD, YYYY","alignY":"center","paddingLeft":{"value":40,"unit":"px"},"paddingRight":{"value":0,"unit":"px"},"height":{"value":100,"unit":"%"},"useIcon":false,"iconIconSource":{"class":"material-icons","code":"calendar_today"},"iconSpacing":{"value":8,"unit":"px"},"borderColor":"#C9C9C9","fontSize":{"value":14,"unit":"px"},"color":"#616161"},"stateParameters":{"focused":{"iconColor":"Primary"}},"ports":[],"children":[]}]}]},{"id":"26ee982f-35f9-3bb1-aa92-0c5b7f52b2bc","type":"Javascript2","parameters":{"code":"function mobileAndTabletCheck() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n}\n\nfunction isMobile() {\n    return mobileAndTabletCheck()\n}\n\nconst scriptUrl = \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js\"\nconst cssUrl =  \"https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker.min.css\"\n\nfunction injectDatePicker(onload) {\n    if (document.querySelectorAll('#--ndl-datepicker-datepicker-js--').length === 0) {\n        window.__ndl_datepicker_onload = [onload]\n\n        var script = document.createElement('script');\n        script.id = \"--ndl-datepicker-datepicker-js--\"\n        script.setAttribute('src', scriptUrl);\n        script.onload = () => {\n            window.__ndl_datepicker_onload.forEach(cb => cb())\n            window.__ndl_datepicker_onload = []\n        }\n        document.head.appendChild(script)\n    }\n    else {\n        if (window.__ndl_datepicker_onload.length > 0) window.__ndl_datepicker_onload.push(onload)\n        else onload()\n    }\n}\n\nfunction injectDatePickerStyles() {\n    const datePickerStyles = `\n        .ndl-datepicker-native-input {\n            display: block;\n            position: absolute;\n            width: 100%;\n            height: 100%;\n            opacity: 0;\n            cursor: pointer;\n            min-width: 100%;\n            margin: 0;\n            padding: 0;\n            border: 0;\n            border-radius: 0;\n        }\n        .ndl-datepicker-native-input::-webkit-calendar-picker-indicator {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n            cursor: pointer;\n        }\n\n        .datepicker {\n            display:none;\n            font-family: Roboto, sans-serif;\n            border: 1px solid ${Script.Inputs.Accent};\n            border-radius: 4px;\n        }\n\n        .datepicker-picker {\n            background-color: ${Script.Inputs.Background};\n            padding: 24px;\n        }\n\n        .datepicker-header {\n            padding-bottom: 14px;\n        }\n\n        .datepicker-header .datepicker-controls {\n            display: flex;\n            justify-content: space-between;\n        }\n\n        .datepicker-header .datepicker-controls .button {\n            background-color: transparent;\n            color: ${Script.Inputs.Text};\n        }\n\n        .datepicker-header .datepicker-controls button.button:focus,\n        .datepicker-header .datepicker-controls button.button:hover {\n            background-color: ${Script.Inputs.HoverDateBackground};\n            color: ${Script.Inputs.HoverDateText};\n        }\n\n        .datepicker-controls .button.view-switch {\n            border: 1px solid ${Script.Inputs.Text};\n            flex: 0 0 120px;\n        }\n\n        .days-of-week .dow {\n            height: 30px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 15px;\n            font-weight: 400;\n            color: ${Script.Inputs.Accent}\n        }\n\n        .datepicker-grid {\n            width: 200px;\n        }\n\n        .datepicker-grid .datepicker-cell.day {\n            border-radius: 50%;\n            width: 30px;\n            height: 30px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n        }\n\n        .datepicker-grid .datepicker-cell {\n            color: ${Script.Inputs.Text}\n            font-size: 15px;\n        }\n\n        .datepicker-grid .datepicker-cell.next,\n        .datepicker-grid .datepicker-cell.prev {\n            color: ${Script.Inputs.TextMuted};\n        }\n\n        .datepicker-grid .datepicker-cell.focused {\n        }\n\n        .datepicker-grid .datepicker-cell.selected {\n            background-color:  ${Script.Inputs.SelectedDateBackgroud};\n            color: ${Script.Inputs.SelectedDateText};\n        }\n\n        .datepicker-grid .datepicker-cell:hover,\n        .datepicker-grid .datepicker-cell:focus {\n            color: ${Script.Inputs.HoverDateText};\n            background-color: ${Script.Inputs.HoverDateBackground};\n        }\n`\n\n    if(!isMobile()) { // This sheet is only needed if we are on desktop\n        if(document.querySelectorAll('#--ndl-datepicker-sheet--').length === 0) {\n            let addSheet = document.createElement('link');\n            addSheet.id = \"--ndl-datepicker-sheet--\"\n            addSheet.setAttribute('rel', 'stylesheet');\n            addSheet.setAttribute('href',cssUrl);\n            document.head.appendChild(addSheet);\n        }\n    }\n\n    if(document.querySelectorAll('#--ndl-datepicker-styles--').length === 0) {\n        const styles = document.createElement('style')\n        styles.id = '--ndl-datepicker-styles--'\n        styles.innerHTML = datePickerStyles\n        document.head.append(styles)\n    }\n}\n\n// Format a date object into a string\nfunction formatDate(date) {\n    if(!(date instanceof Date)) return\n\n    const months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n    ]\n\n    let newDateString = months[date.getMonth()] + ' ' +date.getDate() + ', ' + date.getFullYear()\n\n    return newDateString\n}\n\n// Parse a date string in the format we use into a date object\n// if possible\nfunction parseDate(_dateString) {\n\n    // No valid date, return todays date\n    if(_dateString === undefined || _dateString.length < 3) \n        return null\n\n    let dateString = _dateString.trim().toLowerCase()\n\n    const months = {\n        'jan':0,\n        'feb':1,\n        'mar':2,\n        'apr':3,\n        'may':4,\n        'jun':5,\n        'jul':6,\n        'aug':7,\n        'sep':8,\n        'oct':9,\n        'nov':10,\n        'dec':11\n    }\n\n    let month = months[dateString.substring(0,3)]\n    if(month === undefined) return new Date() // Not a valid month\n\n    // Remove month\n    dateString = dateString.substring(3)\n    dateString = dateString.trim()\n    let sepIndex = dateString.indexOf(',')\n    let dayString = dateString.substring(0,sepIndex==-1?dateString.length:sepIndex)\n\n    let day = parseInt(dayString) || 1\n\n    let year = (new Date()).getFullYear()\n    if(sepIndex !== -1) {\n        dateString = dateString.substring(sepIndex+1)\n        dateString = dateString.trim()\n        if(dateString.length === 4)\n        year = parseInt(dateString)\n    }\n\n    return new Date(year,month,day)\n}\n\n// Compare two dates, ignoring the time\nfunction compareDates(a,b) {\n    if(a.getFullYear() === b.getFullYear() && a.getDate() === b.getDate() && a.getMonth() === b.getMonth())\n        return true\n\n    return false\n}\n\nvar dateInput,datepicker,datePopup\n\nconst TextInputFocused = () => {\n    Component.Object.TextInputIsFocused = true\n\n    // If the text input is focused and we are not running on a mobile device\n    // launch the popup\n    if(!isMobile()) {\n        const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        const rect = textInput.getBoundingClientRect()\n\n      //  let top = rect.bottom + Script.Inputs.PopupMarginTop\n      //  let left = rect.left + Script.Inputs.PopupMarginRight\n\n        datePopup = document.createElement('div')\n        datePopup.style.zIndex = 100\n        datePopup.style.position = 'absolute'\n        datePopup.style.border = \"1px solid \" + Script.Inputs.BorderColor\n        datePopup.style.borderRadius = \"4px\"\n        //datePopup.style.left = '45%'\n        //datePopup.style.right = '45%'\n        datePopup.style.top = (rect.bottom + Script.Inputs.PopupMarginTop) + 'px'\n        datePopup.style.left = (rect.left + Script.Inputs.PopupMarginRight) + 'px'\n        //datePopup.style.right = (rect.right + Script.Inputs.PopupMarginLeft) + '%'\n        document.body.appendChild(datePopup)\n\n        // This is running on desktop, install the vanilla js\n        injectDatePicker(() => {\n            // Script is loaded\n\n            datepicker = new Datepicker(datePopup, {\n                prevArrow:'<',\n                nextArrow:'>',\n            }); \n\n            // adjuste position if outside of screen\n            const rect = datePopup.getBoundingClientRect()\n            if(rect.top + rect.height > window.innerHeight) {\n                datePopup.style.top = Math.max(0,window.innerHeight - rect.height) + 'px'\n            }\n            if(rect.left + rect.width > window.innerWidth) {\n                datePopup.style.left = Math.max(0,window.innerWidth - rect.width) + 'px'\n            }\n         \n           \n\n            if(Component.Object.Date !== undefined) {\n                datepicker.setDate(Component.Object.Date)\n            }\n\n            datePopup.addEventListener('changeDate',() => {\n                // The picker reports a changed date\n                \n            })\n\n            datePopup.addEventListener('click',(ev) => {\n                // The user have clicked a date in the popup\n                var date = datepicker.getDate()\n                // If the date is a new date\n                if(date && (!Component.Object.Date || !compareDates(Component.Object.Date,date))) {\n                    \n                    // Blur the text input so the date can be updated\n                    \n                    Component.Object.Date = date\n                   \n                    textInput.blur()\n                }\n            })\n            \n        })\n\n    }\n}\n\nconst TextInputBlurred = () => {\n    Component.Object.TextInputIsFocused = false\n\n    const textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n    const dateString = textInput.value\n    console.log(dateString)\n    const date = parseDate(dateString)\n    Component.Object.Date = date\n    Script.Outputs.DateSelected()\n\n    document.body.removeChild(datePopup)\n}\n\nconst DateStringChanged = (e) => {\n    const dateString = e.target.value\n    console.log(\"date changed\")\n    console.log(dateString)\n\n    if(Component.Object.TextInputIsFocused) {\n        const date = parseDate(dateString)\n\n        // The date have changed in the component object, update the\n        // date picker\n        if(datepicker !== undefined) {\n            datepicker.setDate(date)\n        }\n\n        if(dateInput !== undefined) {\n            dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n        }\n    }\n}\n\nScript.Inputs = {\n    PopupMarginRight: 'number',\n    PopupMarginLeft: 'number',\n    PopupMarginTop: 'number',\n    Text: 'color',\n    TextMuted: 'color',\n    Accent: 'color',\n    Background: 'color',\n    SelectedDateBackground: 'color',\n    SelectedDateText: 'color',\n    HoverDateBackground: 'color',\n    HoverDateText: 'color'\n}\n\nScript.Signals.DidMount = () => {\n    Script.Outputs.IsMobile = isMobile()\n\n    injectDatePickerStyles()\n\n    // Register blur / focus listeners\n    if(Script.Inputs.TextInput.getDOMElement() !== undefined) {\n        var textInput = Script.Inputs.TextInput.getDOMElement().querySelectorAll('input')[0]\n        textInput.addEventListener('focus',TextInputFocused)\n        textInput.addEventListener('blur',TextInputBlurred)\n        textInput.addEventListener('keydown',(e) => {\n            if(e.keyCode===13) textInput.blur()\n        })\n        textInput.addEventListener('keyup',DateStringChanged)\n    }\n\n    // If there is a date set from start, format it \n    if(Component.Object.Date !== undefined) {\n        let formattedDate = formatDate(Component.Object.Date)\n        Component.Object['Formatted Date'] = formattedDate\n    }\n\n\n    Component.Object.on('change',(ev) => {\n        if(ev.name === 'Date') {\n            const date = Component.Object.Date\n            // The date have changed in the component object, update the\n            // date picker\n            if(datepicker !== undefined) {\n                datepicker.setDate(date)\n            }\n\n            if(dateInput !== undefined) {\n                dateInput.value = date.getFullYear() + '-' + date.getMonth() + '-' + date.getDate()\n            }\n\n            let formattedDate = formatDate(date)\n            textInput.value = formattedDate\n            Component.Object['Formatted Date'] = formattedDate\n        }\n    })\n\n    if(isMobile()) {\n        // On Mobile create a native date input hidden\n        // under the icon, clicking it will show the\n        // native picker\n        const elem = Script.Inputs.TextInput.getDOMElement()\n\n        dateInput = document.createElement('input')\n        dateInput.className = 'ndl-datepicker-native-input'\n\n        elem.parentNode.appendChild(dateInput)\n\n        dateInput.type = \"date\"\n\n        dateInput.onchange = () => {\n            var date = new Date(dateInput.value)\n            Component.Object.Date = date\n            Script.Outputs.DateSelected()\n        }\n    }\n}","scriptInputs":[],"PopupRightMargin":-44,"PopupMarginTop":-30,"Text":"#616161","Accent":"#253F8E","SelectedDateBackground":"#253F8E","SelectedDateText":"White","HoverDateBackground":"Grey - 300","HoverDateText":"Grey - 900","BorderColor":"Primary","Background":"White","TextMuted":"Grey - 400","PopupMarginRight":0,"PopupMarginLeft":0},"ports":[{"name":"PopupMarginRight","plug":"input","type":{"name":"number"},"group":"Inputs","index":5},{"name":"PopupMarginLeft","plug":"input","type":{"name":"number"},"group":"Inputs","index":6},{"name":"PopupMarginTop","plug":"input","type":{"name":"number"},"group":"Inputs","index":7},{"name":"Text","plug":"input","type":{"name":"color"},"group":"Inputs","index":8},{"name":"TextMuted","plug":"input","type":{"name":"color"},"group":"Inputs","index":9},{"name":"Accent","plug":"input","type":{"name":"color"},"group":"Inputs","index":10},{"name":"Background","plug":"input","type":{"name":"color"},"group":"Inputs","index":11},{"name":"SelectedDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":12},{"name":"SelectedDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":13},{"name":"HoverDateBackground","plug":"input","type":{"name":"color"},"group":"Inputs","index":14},{"name":"HoverDateText","plug":"input","type":{"name":"color"},"group":"Inputs","index":15},{"name":"DidMount","plug":"input","type":{"name":"signal"},"group":"Inputs","index":16},{"name":"SelectedDateBackgroud","displayName":"SelectedDateBackgroud","plug":"input","type":"*","group":"Inputs","index":17},{"name":"TextInput","displayName":"TextInput","plug":"input","type":"*","group":"Inputs","index":18},{"name":"BorderColor","displayName":"BorderColor","plug":"input","type":"*","group":"Inputs","index":19},{"name":"DateSelected","displayName":"DateSelected","plug":"output","type":"signal","group":"Outputs","index":20},{"name":"IsMobile","displayName":"IsMobile","plug":"output","type":"*","group":"Outputs","index":21}],"children":[]},{"id":"2c7a2538-d0cb-7bfa-7ddd-8302b7ce6da8","type":"net.noodl.ComponentObject","parameters":{"properties":"Date,Formatted Date"},"ports":[],"children":[]},{"id":"26573040-79d5-9de5-ffc6-823f4d8ff878","type":"Component Inputs","parameters":{},"ports":[],"children":[]},{"id":"6b2f2c6f-8aa9-60f4-47fa-f77186935184","type":"Component Outputs","parameters":{},"ports":[],"children":[]},{"id":"339ec996-afcb-c10b-7c97-d1f16e2c18db","type":"Component Inputs","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","sourcePort":"didMount","targetId":"26ee982f-35f9-3bb1-aa92-0c5b7f52b2bc","targetPort":"DidMount"},{"sourceId":"26573040-79d5-9de5-ffc6-823f4d8ff878","sourcePort":"Value","targetId":"2c7a2538-d0cb-7bfa-7ddd-8302b7ce6da8","targetPort":"value-Date"},{"sourceId":"2c7a2538-d0cb-7bfa-7ddd-8302b7ce6da8","sourcePort":"value-Date","targetId":"6b2f2c6f-8aa9-60f4-47fa-f77186935184","targetPort":"Value"},{"sourceId":"26ee982f-35f9-3bb1-aa92-0c5b7f52b2bc","sourcePort":"DateSelected","targetId":"6b2f2c6f-8aa9-60f4-47fa-f77186935184","targetPort":"Changed"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Align Y","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"alignY"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Align X","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"alignX"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Margin Top","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"marginTop"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Margin Bottom","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"marginBottom"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Margin Left","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"marginLeft"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Margin Right","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"marginRight"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Position","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"position"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Width","targetId":"8b97b6b9-862b-947d-a15f-fbe87c088ab6","targetPort":"width"},{"sourceId":"5220949d-0c9b-94c5-aea8-aa9acd205e95","sourcePort":"this","targetId":"26ee982f-35f9-3bb1-aa92-0c5b7f52b2bc","targetPort":"TextInput"},{"sourceId":"2c7a2538-d0cb-7bfa-7ddd-8302b7ce6da8","sourcePort":"value-Formatted Date","targetId":"5220949d-0c9b-94c5-aea8-aa9acd205e95","targetPort":"startValue"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Label","targetId":"5d12d7fa-3c1b-b95f-da69-97415cc1db6c","targetPort":"text"},{"sourceId":"339ec996-afcb-c10b-7c97-d1f16e2c18db","sourcePort":"Show Label","targetId":"5d12d7fa-3c1b-b95f-da69-97415cc1db6c","targetPort":"mounted"}],"ports":[{"name":"Align Y","type":{"name":"enum","enums":[{"label":"Top","value":"top"},{"label":"Center","value":"center"},{"label":"Bottom","value":"bottom"}],"alignComp":"vertical"},"group":"Alignment","plug":"input","index":0},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"plug":"output","index":1},{"name":"Value","type":{"name":"*","allowConnectionsOnly":true},"group":"Properties","plug":"input","index":1},{"name":"Align X","type":{"name":"enum","enums":[{"label":"Left","value":"left"},{"label":"Center","value":"center"},{"label":"Right","value":"right"}],"alignComp":"horizontal"},"group":"Alignment","plug":"input","index":1},{"name":"Changed","type":"signal","plug":"output","index":2},{"name":"Margin Top","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-top"},"group":"Margins","plug":"input","index":2},{"name":"Margin Bottom","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-bottom"},"group":"Margins","plug":"input","index":3},{"name":"Margin Left","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-left"},"group":"Margins","plug":"input","index":4},{"name":"Margin Right","type":{"name":"number","units":["px","%"],"defaultUnit":"px","marginPaddingComp":"margin-right"},"group":"Margins","plug":"input","index":5},{"name":"Position","type":{"name":"enum","enums":[{"label":"In Layout","value":"relative"},{"label":"Absolute","value":"absolute"},{"label":"Sticky","value":"sticky"},{"label":"Fixed","value":"fixed"}]},"default":"relative","group":"Layout","plug":"input","index":7},{"name":"Width","type":{"name":"dimension","units":["%","px","vw","vh"],"defaultUnit":"%"},"default":100,"group":"Dimensions","plug":"input","index":8},{"name":"Text","type":"*","group":"Colors","plug":"input","index":9},{"name":"Show Label","type":"boolean","default":true,"group":"Label","plug":"input","index":10},{"name":"Label","type":{"name":"string","multiline":true},"default":"Start Date","group":"Label","plug":"input","index":11}],"roots":["8b97b6b9-862b-947d-a15f-fbe87c088ab6"],"metadata":{"canvasPos":{"x":564,"y":20}}}]
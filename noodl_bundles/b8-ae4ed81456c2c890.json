[{"name":"/Login","nodes":[{"id":"82c3c507-1512-c263-1f1d-2e5ff8cdb363","type":"Page","parameters":{"styleCss":"background-color: #F5F5F5;"},"ports":[],"children":[{"id":"7f25d637-00fe-0839-887d-e84d42da31f7","type":"Group","parameters":{"mounted":true,"alignItems":"center","marginTop":{"value":0,"unit":"px"},"justifyContent":"center"},"ports":[],"children":[{"id":"c8474e76-5a03-1ee6-4bde-fd3df430b16d","type":"Group","parameters":{"backgroundColor":"#FFFFFF","zIndex":99,"minWidth":{"value":300,"unit":"px"},"borderStyle":"solid","borderWidth":{"value":1,"unit":"px"},"borderColor":"#C9C9C9","borderRadius":{"value":8,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"paddingTop":{"value":25,"unit":"px"},"paddingBottom":{"value":25,"unit":"px"},"paddingRight":{"value":25,"unit":"px"},"paddingLeft":{"value":25,"unit":"px"},"sizeMode":"contentHeight","mounted":true,"maxWidth":{"value":450,"unit":"px"}},"ports":[],"children":[{"id":"7da5daaa-1adc-993b-f200-25223da2ca13","type":"Image","parameters":{"src":"vision_logo_small.png","sizeMode":"contentHeight","marginBottom":{"value":50,"unit":"px"},"marginLeft":{"value":0,"unit":"px"},"marginRight":{"value":0,"unit":"px"},"marginTop":{"value":0,"unit":"px"},"width":{"value":75,"unit":"%","isFixed":false},"alignY":"center","alignX":"center"},"ports":[],"children":[]},{"id":"4daee040-df97-4d78-4d08-b0363f2ebc67","type":"net.noodl.controls.textinput","parameters":{"label":"Email:","type":"email","alignX":"left","height":{"value":35,"unit":"px","isFixed":false},"width":{"value":100,"unit":"%","isFixed":false},"paddingLeft":{"value":8,"unit":"px"},"labelSpacing":{"value":5,"unit":"px"},"useIcon":true,"iconIconSource":{"class":"material-icons","code":"alternate_email","codeAsClass":false},"useLabel":false,"placeholder":"Email","mounted":true,"borderColor":"#C9C9C9","alignY":"top","marginBottom":{"value":25,"unit":"px"},"borderRadius":{"value":8,"unit":"px"},"iconSpacing":{"value":5,"unit":"px"},"iconColor":"#616161","textStyle":"Input Placeholder","color":"#616161","sizeMode":"contentWidth","minWidth":{"value":100,"unit":"%"}},"ports":[],"children":[]},{"id":"2dd393ff-a12d-465b-c6b8-16d90b4daea8","type":"net.noodl.controls.textinput","parameters":{"label":"Email:","type":"password","alignX":"left","height":{"value":35,"unit":"px","isFixed":false},"width":{"value":100,"unit":"%","isFixed":false},"paddingLeft":{"value":8,"unit":"px"},"labelSpacing":{"value":5,"unit":"px"},"useIcon":true,"iconIconSource":{"class":"material-icons","code":"password","codeAsClass":false},"useLabel":false,"placeholder":"Password","mounted":true,"borderColor":"#C9C9C9","alignY":"top","marginBottom":{"value":25,"unit":"px"},"color":"#616161","borderRadius":{"value":8,"unit":"px"},"textStyle":"Input Placeholder","sizeMode":"contentWidth","minWidth":{"value":100,"unit":"%"}},"ports":[],"children":[]},{"id":"b9f109d8-0080-ead8-b282-3b127d4ce33c","type":"net.noodl.controls.button","parameters":{"backgroundColor":"#253F8E","alignY":"center","alignX":"center","height":{"value":35,"unit":"px"},"label":"Login","sizeMode":"contentWidth","textStyle":"Label Mdium","fontFamily":"fonts/Roboto/Roboto-Regular.ttf","fontSize":{"value":16,"unit":"px"},"minWidth":{"value":100,"unit":"%"}},"stateParameters":{"hover":{},"pressed":{"boxShadowColor":"#000000","boxShadowInset":false,"boxShadowOffsetX":{"value":1,"unit":"px"},"boxShadowOffsetY":{"value":1,"unit":"px"},"boxShadowSpreadRadius":{"value":5,"unit":"px"}}},"ports":[],"children":[]},{"id":"e499b5a4-8695-afe9-b813-b8bb59152bd9","type":"net.noodl.controls.checkbox","parameters":{"marginTop":{"value":15,"unit":"px"},"label":"Stay Logged In","labeltextStyle":"Standard","labelfontFamily":"fonts/Roboto/Roboto-Regular.ttf"},"ports":[],"children":[]}]}]}]},{"id":"61e03019-9316-df52-40a9-e78b34dccc86","type":"REST2","parameters":{"method":"POST","requestScript":"Request.headers['authorization'] = 'Basic dmlzaW9uX3VzZXI6aGpheTZod24hbGFvNTU=';\n\nRequest.content = {\n    email:Inputs.Email,\n    password:Inputs.Password,\n    expiration: Inputs.Expiration\n};\n\n","responseScript":"Outputs.Session = Response.content.data.session_id;\nOutputs.Authorized = Response.content.data.authorized;","resource":"https://api.orbitaldata.net/vision_login"},"ports":[],"children":[]},{"id":"4c075a40-0b95-9f91-48b5-23e3b07f6288","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n  Session: \"string\",\r\n};\r\n\r\nScript.Signals.SaveLocalUser = function () {\r\nlocalStorage.setItem('session', Script.Inputs.Session);\r\n};"},"ports":[{"name":"Session","plug":"input","type":{"name":"string"},"group":"Inputs","index":5},{"name":"SaveLocalUser","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6}],"children":[]},{"id":"cb3fc469-b374-b61a-75a2-02aff69d2bbe","type":"PageStackNavigateToPath","parameters":{"path":"/dashboard"},"ports":[],"children":[]},{"id":"452c4007-fd8f-b9c9-629c-74b7f6ea8b42","type":"Condition","parameters":{},"ports":[],"children":[]},{"id":"16226b83-a44d-b925-5927-f2530e2de345","type":"Javascript2","parameters":{"code":"Script.Inputs = {\r\n    RememberMe: \"boolean\"\r\n};\r\n\r\nScript.Outputs = {\r\n    Expiration: \"number\",\r\n    Done: \"signal\"\r\n};\r\n\r\nScript.Signals.Run = function () {\r\n//Set amount of time the session is valid for (7 days for remember, 48 hours for not remember)\r\nif(Script.Inputs.RememberMe){Script.Outputs.Expiration = Math.floor((Date.now() / 1000) + 604800)}\r\nelse{Script.Outputs.Expiration = Math.floor((Date.now() / 1000) + 7200)};\r\nScript.Outputs.Done();\r\n};"},"ports":[{"name":"RememberMe","plug":"input","type":{"name":"boolean"},"group":"Inputs","index":5},{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":6},{"name":"Expiration","type":{"name":"number"},"plug":"output","group":"Outputs","index":7},{"name":"Done","type":{"name":"signal"},"plug":"output","group":"Outputs","index":8}],"children":[]},{"id":"cac33d20-36d7-c08a-96fc-a9f278f92040","type":"States","parameters":{"states":"Desktop,Mobile","type-Text Color":"color","useTransitions":false,"value-desktop-Text Color":"#FF0000","value-mobile-Text Color":"#000AFF","currentState":"mobile","values":"BG Color,Set Container Border Width","type-BG Color":"color","type-Set Container Border Width":"number","value-Desktop-BG Color":"#FFFFFF","value-Desktop-Set Container Border Width":1,"value-Mobile-BG Color":"#FFFFFF00","value-Mobile-Set Container Border Width":0},"ports":[],"children":[]},{"id":"a453f85f-5c9e-a72c-f250-ce1aac7c3096","type":"Javascript2","parameters":{"code":"\r\nScript.Signals.Run = function () {\r\n    console.log('login page running')\r\n};"},"ports":[{"name":"Run","plug":"input","type":{"name":"signal"},"group":"Inputs","index":5}],"children":[]},{"id":"4539ea1f-5eaa-047e-c90e-bd8781b39da2","type":"/Logic Component/Nav Menu State","parameters":{},"ports":[],"children":[]}],"connections":[{"sourceId":"4daee040-df97-4d78-4d08-b0363f2ebc67","sourcePort":"onTextChanged","targetId":"61e03019-9316-df52-40a9-e78b34dccc86","targetPort":"in-Email"},{"sourceId":"2dd393ff-a12d-465b-c6b8-16d90b4daea8","sourcePort":"onTextChanged","targetId":"61e03019-9316-df52-40a9-e78b34dccc86","targetPort":"in-Password"},{"sourceId":"452c4007-fd8f-b9c9-629c-74b7f6ea8b42","sourcePort":"ontrue","targetId":"cb3fc469-b374-b61a-75a2-02aff69d2bbe","targetPort":"navigate"},{"sourceId":"452c4007-fd8f-b9c9-629c-74b7f6ea8b42","sourcePort":"ontrue","targetId":"4c075a40-0b95-9f91-48b5-23e3b07f6288","targetPort":"SaveLocalUser"},{"sourceId":"61e03019-9316-df52-40a9-e78b34dccc86","sourcePort":"out-Session","targetId":"4c075a40-0b95-9f91-48b5-23e3b07f6288","targetPort":"Session"},{"sourceId":"61e03019-9316-df52-40a9-e78b34dccc86","sourcePort":"out-Authorized","targetId":"452c4007-fd8f-b9c9-629c-74b7f6ea8b42","targetPort":"condition"},{"sourceId":"61e03019-9316-df52-40a9-e78b34dccc86","sourcePort":"success","targetId":"452c4007-fd8f-b9c9-629c-74b7f6ea8b42","targetPort":"eval"},{"sourceId":"e499b5a4-8695-afe9-b813-b8bb59152bd9","sourcePort":"checked","targetId":"16226b83-a44d-b925-5927-f2530e2de345","targetPort":"RememberMe"},{"sourceId":"b9f109d8-0080-ead8-b282-3b127d4ce33c","sourcePort":"onClick","targetId":"16226b83-a44d-b925-5927-f2530e2de345","targetPort":"Run"},{"sourceId":"2dd393ff-a12d-465b-c6b8-16d90b4daea8","sourcePort":"onEnter","targetId":"16226b83-a44d-b925-5927-f2530e2de345","targetPort":"Run"},{"sourceId":"4daee040-df97-4d78-4d08-b0363f2ebc67","sourcePort":"onEnter","targetId":"16226b83-a44d-b925-5927-f2530e2de345","targetPort":"Run"},{"sourceId":"16226b83-a44d-b925-5927-f2530e2de345","sourcePort":"Done","targetId":"61e03019-9316-df52-40a9-e78b34dccc86","targetPort":"fetch"},{"sourceId":"16226b83-a44d-b925-5927-f2530e2de345","sourcePort":"Expiration","targetId":"61e03019-9316-df52-40a9-e78b34dccc86","targetPort":"in-Expiration"},{"sourceId":"cac33d20-36d7-c08a-96fc-a9f278f92040","sourcePort":"BG Color","targetId":"c8474e76-5a03-1ee6-4bde-fd3df430b16d","targetPort":"backgroundColor"},{"sourceId":"cac33d20-36d7-c08a-96fc-a9f278f92040","sourcePort":"Set Container Border Width","targetId":"c8474e76-5a03-1ee6-4bde-fd3df430b16d","targetPort":"borderWidth"},{"sourceId":"82c3c507-1512-c263-1f1d-2e5ff8cdb363","sourcePort":"didMount","targetId":"a453f85f-5c9e-a72c-f250-ce1aac7c3096","targetPort":"Run"},{"sourceId":"4539ea1f-5eaa-047e-c90e-bd8781b39da2","sourcePort":"Device Type","targetId":"cac33d20-36d7-c08a-96fc-a9f278f92040","targetPort":"currentState"}],"ports":[],"roots":["82c3c507-1512-c263-1f1d-2e5ff8cdb363"]}]